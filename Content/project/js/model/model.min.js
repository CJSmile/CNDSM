function DataTimeViewModel(n,t,i,r,u,f,e,o,s){var h=this;h.active24Hour=ko.observable(n);h.activeFirstPeriod=ko.observable(t);h.activeSecondPeriod=ko.observable(i);h.day=ko.observable(r);h.firstStartTime=ko.observable(moment(u).format(moment_time_format_HHmmss));h.firstEndTime=ko.observable(moment(f).format(moment_time_format_HHmmss));h.secondStartTime=e==null?ko.observable(null):ko.observable(moment(e).format(moment_time_format_HHmmss));h.secondEndTime=o==null?ko.observable(null):ko.observable(moment(o).format(moment_time_format_HHmmss));h.showSecondTime=ko.observable(s)}function NewDataTimeMenu(){var n=this;n.hasShowSecondSunTimeMenuEdit=ko.observable(!1);n.hasShowSecondMonTimeMenuEdit=ko.observable(!1);n.hasShowSecondTueTimeMenuEdit=ko.observable(!1);n.hasShowSecondWedTimeMenuEdit=ko.observable(!1);n.hasShowSecondThuTimeMenuEdit=ko.observable(!1);n.hasShowSecondFriTimeMenuEdit=ko.observable(!1);n.hasShowSecondSatTimeMenuEdit=ko.observable(!1);n.hasShowSecondAllDaysTimeMenuEdit=ko.observable(!0);n.valActive24HourSunTimeMenuEdit=ko.observable(!1);n.valActive24HourMonTimeMenuEdit=ko.observable(!1);n.valActive24HourTueTimeMenuEdit=ko.observable(!1);n.valActive24HourWedTimeMenuEdit=ko.observable(!1);n.valActive24HourThuTimeMenuEdit=ko.observable(!1);n.valActive24HourFriTimeMenuEdit=ko.observable(!1);n.valActive24HourSatTimeMenuEdit=ko.observable(!1);n.valActive24HourAllDaysTimeMenuEdit=ko.observable(!1);n.valSelectFirstSunTimeMenuEdit=ko.observable(!0);n.valSelectSecondSunTimeMenuEdit=ko.observable(!0);n.valSelectFirstMonTimeMenuEdit=ko.observable(!0);n.valSelectSecondMonTimeMenuEdit=ko.observable(!0);n.valSelectFirstTueTimeMenuEdit=ko.observable(!0);n.valSelectSecondTueTimeMenuEdit=ko.observable(!0);n.valSelectFirstWedTimeMenuEdit=ko.observable(!0);n.valSelectSecondWedTimeMenuEdit=ko.observable(!0);n.valSelectFirstThuTimeMenuEdit=ko.observable(!0);n.valSelectSecondThuTimeMenuEdit=ko.observable(!0);n.valSelectFirstFriTimeMenuEdit=ko.observable(!0);n.valSelectSecondFriTimeMenuEdit=ko.observable(!0);n.valSelectFirstSatTimeMenuEdit=ko.observable(!0);n.valSelectSecondSatTimeMenuEdit=ko.observable(!0);n.valSelectFirstAllDaysTimeMenuEdit=ko.observable(!0);n.valSelectSecondAllDaysTimeMenuEdit=ko.observable(!1);n.valFirstHourStartTimeSunTimeMenuEdit=ko.observable("");n.valFirstHourEndTimeSunTimeMenuEdit=ko.observable("");n.valSecondHourStartTimeSunTimeMenuEdit=ko.observable("");n.valSecondHourEndTimeSunTimeMenuEdit=ko.observable("");n.valFirstHourStartTimeSunTimeMenuEditValue=ko.observable(null);n.valFirstHourEndTimeSunTimeMenuEditValue=ko.observable(null);n.valSecondHourStartTimeSunTimeMenuEditValue=ko.observable(null);n.valSecondHourEndTimeSunTimeMenuEditValue=ko.observable(null);n.valFirstHourStartTimeMonTimeMenuEdit=ko.observable("");n.valFirstHourEndTimeMonTimeMenuEdit=ko.observable("");n.valSecondHourStartTimeMonTimeMenuEdit=ko.observable("");n.valSecondHourEndTimeMonTimeMenuEdit=ko.observable("");n.valFirstHourStartTimeMonTimeMenuEditValue=ko.observable(null);n.valFirstHourEndTimeMonTimeMenuEditValue=ko.observable(null);n.valSecondHourStartTimeMonTimeMenuEditValue=ko.observable(null);n.valSecondHourEndTimeMonTimeMenuEditValue=ko.observable(null);n.valFirstHourStartTimeTueTimeMenuEdit=ko.observable("");n.valFirstHourEndTimeTueTimeMenuEdit=ko.observable("");n.valSecondHourStartTimeTueTimeMenuEdit=ko.observable("");n.valSecondHourEndTimeTueTimeMenuEdit=ko.observable("");n.valFirstHourStartTimeTueTimeMenuEditValue=ko.observable(null);n.valFirstHourEndTimeTueTimeMenuEditValue=ko.observable(null);n.valSecondHourStartTimeTueTimeMenuEditValue=ko.observable(null);n.valSecondHourEndTimeTueTimeMenuEditValue=ko.observable(null);n.valFirstHourStartTimeWedTimeMenuEdit=ko.observable("");n.valFirstHourEndTimeWedTimeMenuEdit=ko.observable("");n.valSecondHourStartTimeWedTimeMenuEdit=ko.observable("");n.valSecondHourEndTimeWedTimeMenuEdit=ko.observable("");n.valFirstHourStartTimeWedTimeMenuEditValue=ko.observable(null);n.valFirstHourEndTimeWedTimeMenuEditValue=ko.observable(null);n.valSecondHourStartTimeWedTimeMenuEditValue=ko.observable(null);n.valSecondHourEndTimeWedTimeMenuEditValue=ko.observable(null);n.valFirstHourStartTimeThuTimeMenuEdit=ko.observable("");n.valFirstHourEndTimeThuTimeMenuEdit=ko.observable("");n.valSecondHourStartTimeThuTimeMenuEdit=ko.observable("");n.valSecondHourEndTimeThuTimeMenuEdit=ko.observable("");n.valFirstHourStartTimeThuTimeMenuEditValue=ko.observable(null);n.valFirstHourEndTimeThuTimeMenuEditValue=ko.observable(null);n.valSecondHourStartTimeThuTimeMenuEditValue=ko.observable(null);n.valSecondHourEndTimeThuTimeMenuEditValue=ko.observable(null);n.valFirstHourStartTimeFriTimeMenuEdit=ko.observable("");n.valFirstHourEndTimeFriTimeMenuEdit=ko.observable("");n.valSecondHourStartTimeFriTimeMenuEdit=ko.observable("");n.valSecondHourEndTimeFriTimeMenuEdit=ko.observable("");n.valFirstHourStartTimeFriTimeMenuEditValue=ko.observable(null);n.valFirstHourEndTimeFriTimeMenuEditValue=ko.observable(null);n.valSecondHourStartTimeFriTimeMenuEditValue=ko.observable(null);n.valSecondHourEndTimeFriTimeMenuEditValue=ko.observable(null);n.valFirstHourStartTimeSatTimeMenuEdit=ko.observable("");n.valFirstHourEndTimeSatTimeMenuEdit=ko.observable("");n.valSecondHourStartTimeSatTimeMenuEdit=ko.observable("");n.valSecondHourEndTimeSatTimeMenuEdit=ko.observable("");n.valFirstHourStartTimeSatTimeMenuEditValue=ko.observable(null);n.valFirstHourEndTimeSatTimeMenuEditValue=ko.observable(null);n.valSecondHourStartTimeSatTimeMenuEditValue=ko.observable(null);n.valSecondHourEndTimeSatTimeMenuEditValue=ko.observable(null);n.valFirstHourStartTimeAllDaysTimeMenuEdit=ko.observable("");n.valFirstHourEndTimeAllDaysTimeMenuEdit=ko.observable("");n.valSecondHourStartTimeAllDaysTimeMenuEdit=ko.observable("");n.valSecondHourEndTimeAllDaysTimeMenuEdit=ko.observable("");n.valFirstHourStartTimeAllDaysTimeMenuEditValue=ko.observable(null);n.valFirstHourEndTimeAllDaysTimeMenuEditValue=ko.observable(null);n.valSecondHourStartTimeAllDaysTimeMenuEditValue=ko.observable(null);n.valSecondHourEndTimeAllDaysTimeMenuEditValue=ko.observable(null);n.enableSaveChanges=ko.observable(!0);n.valFirstHourStartTimeSunTimeMenuEdit({max:n.valFirstHourEndTimeSunTimeMenuEditValue,pickerType:"list",type:"time",value:n.valFirstHourStartTimeSunTimeMenuEditValue,disabled:n.valActive24HourSunTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valFirstHourStartTimeSunTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valFirstHourEndTimeSunTimeMenuEdit({min:n.valFirstHourStartTimeSunTimeMenuEditValue,max:n.valSecondHourStartTimeSunTimeMenuEditValue,type:"time",pickerType:"list",value:n.valFirstHourEndTimeSunTimeMenuEditValue,disabled:n.valActive24HourSunTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valFirstHourEndTimeSunTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valSecondHourStartTimeSunTimeMenuEdit({min:n.valFirstHourEndTimeSunTimeMenuEditValue,max:n.valSecondHourEndTimeSunTimeMenuEditValue,type:"time",pickerType:"list",value:n.valSecondHourStartTimeSunTimeMenuEditValue,disabled:n.valActive24HourSunTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valSecondHourStartTimeSunTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valSecondHourEndTimeSunTimeMenuEdit({min:n.valSecondHourStartTimeSunTimeMenuEditValue,min:n.valSecondHourStartTimeSunTimeMenuEditValue,type:"time",pickerType:"list",value:n.valSecondHourEndTimeSunTimeMenuEditValue,disabled:n.valActive24HourSunTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valSecondHourEndTimeSunTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valFirstHourStartTimeMonTimeMenuEdit({max:n.valFirstHourEndTimeMonTimeMenuEditValue,pickerType:"list",type:"time",isValid:!0,value:n.valFirstHourStartTimeMonTimeMenuEditValue,disabled:n.valActive24HourMonTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valFirstHourStartTimeMonTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valFirstHourEndTimeMonTimeMenuEdit({min:n.valFirstHourStartTimeMonTimeMenuEditValue,max:n.valSecondHourStartTimeMonTimeMenuEditValue,type:"time",pickerType:"list",value:n.valFirstHourEndTimeMonTimeMenuEditValue,disabled:n.valActive24HourMonTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valFirstHourEndTimeMonTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valSecondHourStartTimeMonTimeMenuEdit({min:n.valFirstHourEndTimeMonTimeMenuEditValue,max:n.valSecondHourEndTimeMonTimeMenuEditValue,type:"time",pickerType:"list",value:n.valSecondHourStartTimeMonTimeMenuEditValue,disabled:n.valActive24HourMonTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valSecondHourStartTimeMonTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valSecondHourEndTimeMonTimeMenuEdit({min:n.valSecondHourStartTimeMonTimeMenuEditValue,type:"time",pickerType:"list",value:n.valSecondHourEndTimeMonTimeMenuEditValue,disabled:n.valActive24HourMonTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valSecondHourEndTimeMonTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valFirstHourStartTimeTueTimeMenuEdit({max:n.valFirstHourEndTimeTueTimeMenuEditValue,pickerType:"list",type:"time",isValid:!0,value:n.valFirstHourStartTimeTueTimeMenuEditValue,disabled:n.valActive24HourTueTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valFirstHourStartTimeTueTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valFirstHourEndTimeTueTimeMenuEdit({min:n.valFirstHourStartTimeTueTimeMenuEditValue,max:n.valSecondHourStartTimeTueTimeMenuEditValue,type:"time",pickerType:"list",value:n.valFirstHourEndTimeTueTimeMenuEditValue,disabled:n.valActive24HourTueTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valFirstHourEndTimeTueTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valSecondHourStartTimeTueTimeMenuEdit({min:n.valFirstHourEndTimeTueTimeMenuEditValue,max:n.valSecondHourEndTimeTueTimeMenuEditValue,type:"time",pickerType:"list",value:n.valSecondHourStartTimeTueTimeMenuEditValue,disabled:n.valActive24HourTueTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valSecondHourStartTimeTueTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valSecondHourEndTimeTueTimeMenuEdit({min:n.valSecondHourStartTimeTueTimeMenuEditValue,type:"time",pickerType:"list",value:n.valSecondHourEndTimeTueTimeMenuEditValue,disabled:n.valActive24HourTueTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valSecondHourEndTimeTueTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valFirstHourStartTimeWedTimeMenuEdit({max:n.valFirstHourEndTimeWedTimeMenuEditValue,pickerType:"list",type:"time",isValid:!0,value:n.valFirstHourStartTimeWedTimeMenuEditValue,disabled:n.valActive24HourWedTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valFirstHourStartTimeWedTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valFirstHourEndTimeWedTimeMenuEdit({min:n.valFirstHourStartTimeWedTimeMenuEditValue,max:n.valSecondHourStartTimeWedTimeMenuEditValue,type:"time",pickerType:"list",value:n.valFirstHourEndTimeWedTimeMenuEditValue,disabled:n.valActive24HourWedTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valFirstHourEndTimeWedTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valSecondHourStartTimeWedTimeMenuEdit({min:n.valFirstHourEndTimeWedTimeMenuEditValue,max:n.valSecondHourEndTimeWedTimeMenuEditValue,type:"time",pickerType:"list",value:n.valSecondHourStartTimeWedTimeMenuEditValue,disabled:n.valActive24HourWedTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valSecondHourStartTimeWedTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valSecondHourEndTimeWedTimeMenuEdit({min:n.valSecondHourStartTimeWedTimeMenuEditValue,type:"time",pickerType:"list",value:n.valSecondHourEndTimeWedTimeMenuEditValue,disabled:n.valActive24HourWedTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valSecondHourEndTimeWedTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valFirstHourStartTimeThuTimeMenuEdit({max:n.valFirstHourEndTimeThuTimeMenuEditValue,pickerType:"list",type:"time",isValid:!0,value:n.valFirstHourStartTimeThuTimeMenuEditValue,disabled:n.valActive24HourThuTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valFirstHourStartTimeThuTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valFirstHourEndTimeThuTimeMenuEdit({min:n.valFirstHourStartTimeThuTimeMenuEditValue,max:n.valSecondHourStartTimeThuTimeMenuEditValue,type:"time",pickerType:"list",value:n.valFirstHourEndTimeThuTimeMenuEditValue,disabled:n.valActive24HourThuTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valFirstHourEndTimeThuTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valSecondHourStartTimeThuTimeMenuEdit({min:n.valFirstHourEndTimeThuTimeMenuEditValue,max:n.valSecondHourEndTimeThuTimeMenuEditValue,type:"time",pickerType:"list",value:n.valSecondHourStartTimeThuTimeMenuEditValue,disabled:n.valActive24HourThuTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valSecondHourStartTimeThuTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valSecondHourEndTimeThuTimeMenuEdit({min:n.valSecondHourStartTimeThuTimeMenuEditValue,type:"time",pickerType:"list",value:n.valSecondHourEndTimeThuTimeMenuEditValue,disabled:n.valActive24HourThuTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valSecondHourEndTimeThuTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valFirstHourStartTimeFriTimeMenuEdit({max:n.valFirstHourEndTimeFriTimeMenuEditValue,pickerType:"list",type:"time",isValid:!0,value:n.valFirstHourStartTimeFriTimeMenuEditValue,disabled:n.valActive24HourFriTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valFirstHourStartTimeFriTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valFirstHourEndTimeFriTimeMenuEdit({min:n.valFirstHourStartTimeFriTimeMenuEditValue,max:n.valSecondHourStartTimeFriTimeMenuEditValue,type:"time",pickerType:"list",value:n.valFirstHourEndTimeFriTimeMenuEditValue,disabled:n.valActive24HourFriTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valFirstHourEndTimeFriTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valSecondHourStartTimeFriTimeMenuEdit({min:n.valFirstHourEndTimeFriTimeMenuEditValue,max:n.valSecondHourEndTimeFriTimeMenuEditValue,type:"time",pickerType:"list",value:n.valSecondHourStartTimeFriTimeMenuEditValue,disabled:n.valActive24HourFriTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valSecondHourStartTimeFriTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valSecondHourEndTimeFriTimeMenuEdit({min:n.valSecondHourStartTimeFriTimeMenuEditValue,type:"time",pickerType:"list",value:n.valSecondHourEndTimeFriTimeMenuEditValue,disabled:n.valActive24HourFriTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valSecondHourEndTimeFriTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valFirstHourStartTimeSatTimeMenuEdit({max:n.valFirstHourEndTimeSatTimeMenuEditValue,pickerType:"list",type:"time",isValid:!0,value:n.valFirstHourStartTimeSatTimeMenuEditValue,disabled:n.valActive24HourSatTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valFirstHourStartTimeSatTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valFirstHourEndTimeSatTimeMenuEdit({min:n.valFirstHourStartTimeSatTimeMenuEditValue,max:n.valSecondHourStartTimeSatTimeMenuEditValue,type:"time",pickerType:"list",value:n.valFirstHourEndTimeSatTimeMenuEditValue,disabled:n.valActive24HourSatTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valFirstHourEndTimeSatTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valSecondHourStartTimeSatTimeMenuEdit({min:n.valFirstHourEndTimeSatTimeMenuEditValue,max:n.valSecondHourEndTimeSatTimeMenuEditValue,type:"time",pickerType:"list",value:n.valSecondHourStartTimeSatTimeMenuEditValue,disabled:n.valActive24HourSatTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valSecondHourStartTimeSatTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valSecondHourEndTimeSatTimeMenuEdit({min:n.valSecondHourStartTimeSatTimeMenuEditValue,type:"time",pickerType:"list",value:n.valSecondHourEndTimeSatTimeMenuEditValue,disabled:n.valActive24HourSatTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valSecondHourEndTimeSatTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valFirstHourStartTimeAllDaysTimeMenuEdit({max:n.valFirstHourEndTimeAllDaysTimeMenuEditValue,pickerType:"list",type:"time",value:n.valFirstHourStartTimeAllDaysTimeMenuEditValue,disabled:n.valActive24HourAllDaysTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valFirstHourStartTimeAllDaysTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valFirstHourEndTimeAllDaysTimeMenuEdit({min:n.valFirstHourStartTimeAllDaysTimeMenuEditValue,max:n.valSecondHourStartTimeAllDaysTimeMenuEditValue,type:"time",pickerType:"list",value:n.valFirstHourEndTimeAllDaysTimeMenuEditValue,disabled:n.valActive24HourAllDaysTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valFirstHourEndTimeAllDaysTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valSecondHourStartTimeAllDaysTimeMenuEdit({min:n.valFirstHourEndTimeAllDaysTimeMenuEditValue,max:n.valSecondHourEndTimeAllDaysTimeMenuEditValue,type:"time",pickerType:"list",value:n.valSecondHourStartTimeAllDaysTimeMenuEditValue,disabled:n.valActive24HourAllDaysTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valSecondHourStartTimeAllDaysTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}});n.valSecondHourEndTimeAllDaysTimeMenuEdit({min:n.valSecondHourStartTimeAllDaysTimeMenuEditValue,type:"time",pickerType:"list",value:n.valSecondHourEndTimeAllDaysTimeMenuEditValue,disabled:n.valActive24HourAllDaysTimeMenuEdit,onValueChanged:function(t){(t.value===""||t.value===null||t.value===undefined)&&t.component.option("isValid",!1);n.valSecondHourEndTimeAllDaysTimeMenuEditValue(t.value);n.enableSaveChanges(!0)},onChange:function(t){t.component._options.validationError!=null?n.enableSaveChanges(!1):n.enableSaveChanges(!0)}})}function DataTimeMenu(n){if(self=vmViewIndex.allSetTime.dataModal,isEmpty(n))self.hasShowSecondSunTimeMenuEdit(!0),self.hasShowSecondMonTimeMenuEdit(!0),self.hasShowSecondTueTimeMenuEdit(!0),self.hasShowSecondWedTimeMenuEdit(!0),self.hasShowSecondThuTimeMenuEdit(!0),self.hasShowSecondFriTimeMenuEdit(!0),self.hasShowSecondSatTimeMenuEdit(!0),self.hasShowSecondAllDaysTimeMenuEdit(!0),self.valActive24HourSunTimeMenuEdit(!1),self.valActive24HourMonTimeMenuEdit(!1),self.valActive24HourTueTimeMenuEdit(!1),self.valActive24HourWedTimeMenuEdit(!1),self.valActive24HourThuTimeMenuEdit(!1),self.valActive24HourFriTimeMenuEdit(!1),self.valActive24HourSatTimeMenuEdit(!1),self.valActive24HourAllDaysTimeMenuEdit(!1),self.valSelectFirstSunTimeMenuEdit(!0),self.valSelectSecondSunTimeMenuEdit(!1),self.valSelectFirstMonTimeMenuEdit(!0),self.valSelectSecondMonTimeMenuEdit(!1),self.valSelectFirstTueTimeMenuEdit(!0),self.valSelectSecondTueTimeMenuEdit(!1),self.valSelectFirstWedTimeMenuEdit(!0),self.valSelectSecondWedTimeMenuEdit(!1),self.valSelectFirstThuTimeMenuEdit(!0),self.valSelectSecondThuTimeMenuEdit(!1),self.valSelectFirstFriTimeMenuEdit(!0),self.valSelectSecondFriTimeMenuEdit(!1),self.valSelectFirstSatTimeMenuEdit(!0),self.valSelectSecondSatTimeMenuEdit(!1),self.valSelectFirstAllDaysTimeMenuEdit(!0),self.valSelectSecondAllDaysTimeMenuEdit(!1),self.valFirstHourStartTimeSunTimeMenuEdit(""),self.valFirstHourEndTimeSunTimeMenuEdit(""),self.valSecondHourStartTimeSunTimeMenuEdit(""),self.valSecondHourEndTimeSunTimeMenuEdit(""),self.valFirstHourStartTimeSunTimeMenuEditValue(null),self.valFirstHourEndTimeSunTimeMenuEditValue(null),self.valSecondHourStartTimeSunTimeMenuEditValue(null),self.valSecondHourEndTimeSunTimeMenuEditValue(null),self.valFirstHourStartTimeMonTimeMenuEdit(""),self.valFirstHourEndTimeMonTimeMenuEdit(""),self.valSecondHourStartTimeMonTimeMenuEdit(""),self.valSecondHourEndTimeMonTimeMenuEdit(""),self.valFirstHourStartTimeMonTimeMenuEditValue(null),self.valFirstHourEndTimeMonTimeMenuEditValue(null),self.valSecondHourStartTimeMonTimeMenuEditValue(null),self.valSecondHourEndTimeMonTimeMenuEditValue(null),self.valFirstHourStartTimeTueTimeMenuEdit(""),self.valFirstHourEndTimeTueTimeMenuEdit(""),self.valSecondHourStartTimeTueTimeMenuEdit(""),self.valSecondHourEndTimeTueTimeMenuEdit(""),self.valFirstHourStartTimeTueTimeMenuEditValue(null),self.valFirstHourEndTimeTueTimeMenuEditValue(null),self.valSecondHourStartTimeTueTimeMenuEditValue(null),self.valSecondHourEndTimeTueTimeMenuEditValue(null),self.valFirstHourStartTimeWedTimeMenuEdit(""),self.valFirstHourEndTimeWedTimeMenuEdit(""),self.valSecondHourStartTimeWedTimeMenuEdit(""),self.valSecondHourEndTimeWedTimeMenuEdit(""),self.valFirstHourStartTimeWedTimeMenuEditValue(null),self.valFirstHourEndTimeWedTimeMenuEditValue(null),self.valSecondHourStartTimeWedTimeMenuEditValue(null),self.valSecondHourEndTimeWedTimeMenuEditValue(null),self.valFirstHourStartTimeThuTimeMenuEdit(""),self.valFirstHourEndTimeThuTimeMenuEdit(""),self.valSecondHourStartTimeThuTimeMenuEdit(""),self.valSecondHourEndTimeThuTimeMenuEdit(""),self.valFirstHourStartTimeThuTimeMenuEditValue(null),self.valFirstHourEndTimeThuTimeMenuEditValue(null),self.valSecondHourStartTimeThuTimeMenuEditValue(null),self.valSecondHourEndTimeThuTimeMenuEditValue(null),self.valFirstHourStartTimeFriTimeMenuEdit(""),self.valFirstHourEndTimeFriTimeMenuEdit(""),self.valSecondHourStartTimeFriTimeMenuEdit(""),self.valSecondHourEndTimeFriTimeMenuEdit(""),self.valFirstHourStartTimeFriTimeMenuEditValue(null),self.valFirstHourEndTimeFriTimeMenuEditValue(null),self.valSecondHourStartTimeFriTimeMenuEditValue(null),self.valSecondHourEndTimeFriTimeMenuEditValue(null),self.valFirstHourStartTimeSatTimeMenuEdit(""),self.valFirstHourEndTimeSatTimeMenuEdit(""),self.valSecondHourStartTimeSatTimeMenuEdit(""),self.valSecondHourEndTimeSatTimeMenuEdit(""),self.valFirstHourStartTimeSatTimeMenuEditValue(null),self.valFirstHourEndTimeSatTimeMenuEditValue(null),self.valSecondHourStartTimeSatTimeMenuEditValue(null),self.valSecondHourEndTimeSatTimeMenuEditValue(null),self.valFirstHourStartTimeAllDaysTimeMenuEdit(""),self.valFirstHourEndTimeAllDaysTimeMenuEdit(""),self.valSecondHourStartTimeAllDaysTimeMenuEdit(""),self.valSecondHourEndTimeAllDaysTimeMenuEdit(""),self.valFirstHourStartTimeAllDaysTimeMenuEditValue(null),self.valFirstHourEndTimeAllDaysTimeMenuEditValue(null),self.valSecondHourStartTimeAllDaysTimeMenuEditValue(null),self.valSecondHourEndTimeAllDaysTimeMenuEditValue(null);else{var t=vmViewIndex.allSetTime;t.data([]);ko.mapping.fromJS(n,{},t.data);self.valActive24HourSunTimeMenuEdit(t.data()[0].active24Hour());self.valActive24HourMonTimeMenuEdit(t.data()[1].active24Hour());self.valActive24HourTueTimeMenuEdit(t.data()[2].active24Hour());self.valActive24HourWedTimeMenuEdit(t.data()[3].active24Hour());self.valActive24HourThuTimeMenuEdit(t.data()[4].active24Hour());self.valActive24HourFriTimeMenuEdit(t.data()[5].active24Hour());self.valActive24HourSatTimeMenuEdit(t.data()[6].active24Hour());self.hasShowSecondSunTimeMenuEdit(!t.data()[0].showSecondTime());self.hasShowSecondMonTimeMenuEdit(!t.data()[1].showSecondTime());self.hasShowSecondTueTimeMenuEdit(!t.data()[2].showSecondTime());self.hasShowSecondWedTimeMenuEdit(!t.data()[3].showSecondTime());self.hasShowSecondThuTimeMenuEdit(!t.data()[4].showSecondTime());self.hasShowSecondFriTimeMenuEdit(!t.data()[5].showSecondTime());self.hasShowSecondSatTimeMenuEdit(!t.data()[6].showSecondTime());self.valSelectFirstSunTimeMenuEdit(t.data()[0].activeFirstPeriod());self.valSelectSecondSunTimeMenuEdit(t.data()[0].activeSecondPeriod());self.valSelectFirstMonTimeMenuEdit(t.data()[1].activeFirstPeriod());self.valSelectSecondMonTimeMenuEdit(t.data()[1].activeSecondPeriod());self.valSelectFirstTueTimeMenuEdit(t.data()[2].activeFirstPeriod());self.valSelectSecondTueTimeMenuEdit(t.data()[2].activeSecondPeriod());self.valSelectFirstWedTimeMenuEdit(t.data()[3].activeFirstPeriod());self.valSelectSecondWedTimeMenuEdit(t.data()[3].activeSecondPeriod());self.valSelectFirstThuTimeMenuEdit(t.data()[4].activeFirstPeriod());self.valSelectSecondThuTimeMenuEdit(t.data()[4].activeSecondPeriod());self.valSelectFirstFriTimeMenuEdit(t.data()[5].activeFirstPeriod());self.valSelectSecondFriTimeMenuEdit(t.data()[5].activeSecondPeriod());self.valSelectFirstSatTimeMenuEdit(t.data()[6].activeFirstPeriod());self.valSelectSecondSatTimeMenuEdit(t.data()[6].activeSecondPeriod());self.valFirstHourStartTimeSunTimeMenuEditValue(moment(t.data()[0].firstStartTime(),moment_time_format_hhmmss));self.valFirstHourEndTimeSunTimeMenuEditValue(moment(t.data()[0].firstEndTime(),moment_time_format_hhmmss));self.valActive24HourSunTimeMenuEdit()==!0||!self.hasShowSecondSunTimeMenuEdit()==!1||t.data()[0].secondStartTime()==null?(self.valSecondHourStartTimeSunTimeMenuEditValue(null),self.valSecondHourEndTimeSunTimeMenuEditValue(null)):(self.valSecondHourStartTimeSunTimeMenuEditValue(moment(t.data()[0].secondStartTime(),moment_time_format_hhmmss)),self.valSecondHourEndTimeSunTimeMenuEditValue(moment(t.data()[0].secondEndTime(),moment_time_format_hhmmss)));self.valFirstHourStartTimeMonTimeMenuEditValue(moment(t.data()[1].firstStartTime(),moment_time_format_hhmmss));self.valFirstHourEndTimeMonTimeMenuEditValue(moment(t.data()[1].firstEndTime(),moment_time_format_hhmmss));self.valActive24HourMonTimeMenuEdit()==!0||!self.hasShowSecondMonTimeMenuEdit()==!1||t.data()[1].secondStartTime()==null?(self.valSecondHourStartTimeMonTimeMenuEditValue(null),self.valSecondHourEndTimeMonTimeMenuEditValue(null)):(self.valSecondHourStartTimeMonTimeMenuEditValue(moment(t.data()[1].secondStartTime(),moment_time_format_hhmmss)),self.valSecondHourEndTimeMonTimeMenuEditValue(moment(t.data()[1].secondEndTime(),moment_time_format_hhmmss)));self.valFirstHourStartTimeTueTimeMenuEditValue(moment(t.data()[2].firstStartTime(),moment_time_format_hhmmss));self.valFirstHourEndTimeTueTimeMenuEditValue(moment(t.data()[2].firstEndTime(),moment_time_format_hhmmss));self.valActive24HourTueTimeMenuEdit()==!0||!self.hasShowSecondTueTimeMenuEdit()==!1||t.data()[2].secondStartTime()==null?(self.valSecondHourStartTimeTueTimeMenuEditValue(null),self.valSecondHourEndTimeTueTimeMenuEditValue(null)):(self.valSecondHourStartTimeTueTimeMenuEditValue(moment(t.data()[2].secondStartTime(),moment_time_format_hhmmss)),self.valSecondHourEndTimeTueTimeMenuEditValue(moment(t.data()[2].secondEndTime(),moment_time_format_hhmmss)));self.valFirstHourStartTimeWedTimeMenuEditValue(moment(t.data()[3].firstStartTime(),moment_time_format_hhmmss));self.valFirstHourEndTimeWedTimeMenuEditValue(moment(t.data()[3].firstEndTime(),moment_time_format_hhmmss));self.valActive24HourWedTimeMenuEdit()==!0||!self.hasShowSecondWedTimeMenuEdit()==!1||t.data()[3].secondStartTime()==null?(self.valSecondHourStartTimeWedTimeMenuEditValue(null),self.valSecondHourEndTimeWedTimeMenuEditValue(null)):(self.valSecondHourStartTimeWedTimeMenuEditValue(moment(t.data()[3].secondStartTime(),moment_time_format_hhmmss)),self.valSecondHourEndTimeWedTimeMenuEditValue(moment(t.data()[3].secondEndTime(),moment_time_format_hhmmss)));self.valFirstHourStartTimeThuTimeMenuEditValue(moment(t.data()[4].firstStartTime(),moment_time_format_hhmmss));self.valFirstHourEndTimeThuTimeMenuEditValue(moment(t.data()[4].firstEndTime(),moment_time_format_hhmmss));self.valActive24HourThuTimeMenuEdit()==!0||!self.hasShowSecondThuTimeMenuEdit()==!1||t.data()[4].secondStartTime()==null?(self.valSecondHourStartTimeThuTimeMenuEditValue(null),self.valSecondHourEndTimeThuTimeMenuEditValue(null)):(self.valSecondHourStartTimeThuTimeMenuEditValue(moment(t.data()[4].secondStartTime(),moment_time_format_hhmmss)),self.valSecondHourEndTimeThuTimeMenuEditValue(moment(t.data()[4].secondEndTime(),moment_time_format_hhmmss)));self.valFirstHourStartTimeFriTimeMenuEditValue(moment(t.data()[5].firstStartTime(),moment_time_format_hhmmss));self.valFirstHourEndTimeFriTimeMenuEditValue(moment(t.data()[5].firstEndTime(),moment_time_format_hhmmss));self.valActive24HourFriTimeMenuEdit()==!0||!self.hasShowSecondFriTimeMenuEdit()==!1||t.data()[5].secondStartTime()==null?(self.valSecondHourStartTimeFriTimeMenuEditValue(null),self.valSecondHourEndTimeFriTimeMenuEditValue(null)):(self.valSecondHourStartTimeFriTimeMenuEditValue(moment(t.data()[5].secondStartTime(),moment_time_format_hhmmss)),self.valSecondHourEndTimeFriTimeMenuEditValue(moment(t.data()[5].secondEndTime(),moment_time_format_hhmmss)));self.valFirstHourStartTimeSatTimeMenuEditValue(moment(t.data()[6].firstStartTime(),moment_time_format_hhmmss));self.valFirstHourEndTimeSatTimeMenuEditValue(moment(t.data()[6].firstEndTime(),moment_time_format_hhmmss));self.valActive24HourSatTimeMenuEdit()==!0||!self.hasShowSecondSatTimeMenuEdit()==!1||t.data()[6].secondStartTime()==null?(self.valSecondHourStartTimeSatTimeMenuEditValue(null),self.valSecondHourEndTimeSatTimeMenuEditValue(null)):(self.valSecondHourStartTimeSatTimeMenuEditValue(moment(t.data()[6].secondStartTime(),moment_time_format_hhmmss)),self.valSecondHourEndTimeSatTimeMenuEditValue(moment(t.data()[6].secondEndTime(),moment_time_format_hhmmss)));self.valFirstHourStartTimeAllDaysTimeMenuEditValue(null);self.valFirstHourEndTimeAllDaysTimeMenuEditValue(null);self.valSecondHourStartTimeAllDaysTimeMenuEditValue(null);self.valSecondHourEndTimeAllDaysTimeMenuEditValue(null);(self.valActive24HourAllDaysTimeMenuEdit()==!0||!self.hasShowSecondAllDaysTimeMenuEdit()==!1)&&(self.valSecondHourStartTimeAllDaysTimeMenuEditValue(null),self.valSecondHourEndTimeAllDaysTimeMenuEditValue(null))}}function DataAllMapViewModel(n){var e=this,t;vmViewIndex.allMapZone.listMapZoneMile([]);vmViewIndex.allMapZone.mapZone([]);ko.mapping.fromJS(n.settingDictionaryMapZone,{},vmViewIndex.allMapZone.settingDictionaryMapZone);ko.mapping.fromJS(n.settingDictionaryMapZonePrice,{},vmViewIndex.allMapZone.settingDictionaryMapZonePrice);ko.mapping.fromJS(n.customMapZone.active,{},vmViewIndex.allMapZone.tempActiveCustomMile);ko.mapping.fromJS(n.customMapZone.mapZoneId,{},vmViewIndex.allMapZone.tempCustomMileZone);ko.mapping.fromJS(n.customMapZone.listCustomMile,{},vmViewIndex.allMapZone.tempListValueCustom);ko.utils.arrayForEach(n.listMapZoneMile,function(n){vmViewIndex.allMapZone.listMapZoneMile.push(new DataMapZoneMile(n))});vmViewIndex.allMapZone.typeMap(vmViewIndex.globalConfig.shopMapCode());var i=vmViewIndex.allMapZone.settingDictionaryMapZone(),r=vmViewIndex.allMapZone.settingDictionaryMapZonePrice(),o=vmViewIndex.allMapZone.listMapZoneMile(),u=parseFloat(vmViewIndex.globalConfig.shopLatitude()),f=parseFloat(vmViewIndex.globalConfig.shopLongitude());for(t in i)i.hasOwnProperty(t)&&vmViewIndex.allMapZone.mapZone.push(new MapZoneData(parseFloat(t),i[t](),r[t]()));vmViewIndex.allMapZone.mapZone.valueHasMutated();vmViewIndex.allMapZone.switchMapZone({offText:"Set Mile",onText:"Draw Maps",width:"7rem",value:vmViewIndex.allMapZone.typeMap()==0?!0:!1,onValueChanged:function(n){n.value==!0?(vmViewIndex.allMapZone.typeMap(0),getMap(_.first(vmViewIndex.allMapZone.mapZone()).MapZoneValue(),parseFloat(vmViewIndex.globalConfig.shopLatitude()),parseFloat(vmViewIndex.globalConfig.shopLongitude()),1)):vmViewIndex.allMapZone.typeMap(1)}});getMap(_.first(vmViewIndex.allMapZone.mapZone()).MapZoneValue(),u,f,1);ko.utils.arrayForEach(n.allMapZone,function(n){n.mapZoneDesc.includes("Delivery Zone 1")?vmViewIndex.allMapZone.mapZone1Id(n.mapZoneId):n.mapZoneDesc.includes("Delivery Zone 2")?vmViewIndex.allMapZone.mapZone2Id(n.mapZoneId):n.mapZoneDesc.includes("Delivery Zone 3")&&vmViewIndex.allMapZone.mapZone3Id(n.mapZoneId)});ko.utils.arrayForEach(n.listDeliveryFreeTime,function(n){n.shopMapCode=="0"?n.mapZoneID==vmViewIndex.allMapZone.mapZone1Id()?(vmViewIndex.allMapZone.deliveryFreeTimeIdDrawMapZone1(n.deliveryFreeTimeID),vmViewIndex.allMapZone.mapZoneIdDrawMapZone1(n.mapZoneID),vmViewIndex.allMapZone.valShopMapCodeDrawMapZone1(n.shopMapCode),vmViewIndex.allMapZone.valStartTimeDrawMapZone1(moment(n.startTime,moment_time_format_hhmmss)),vmViewIndex.allMapZone.valEndTimeDrawMapZone1(moment(n.endTime,moment_time_format_hhmmss)),vmViewIndex.allMapZone.activeDeliveryFreeTimeDrawMapZone1(n.active)):n.mapZoneID==vmViewIndex.allMapZone.mapZone2Id()?(vmViewIndex.allMapZone.deliveryFreeTimeIdDrawMapZone2(n.deliveryFreeTimeID),vmViewIndex.allMapZone.mapZoneIdDrawMapZone2(n.mapZoneID),vmViewIndex.allMapZone.valShopMapCodeDrawMapZone2(n.shopMapCode),vmViewIndex.allMapZone.valStartTimeDrawMapZone2(moment(n.startTime,moment_time_format_hhmmss)),vmViewIndex.allMapZone.valEndTimeDrawMapZone2(moment(n.endTime,moment_time_format_hhmmss)),vmViewIndex.allMapZone.activeDeliveryFreeTimeDrawMapZone2(n.active)):n.mapZoneID==vmViewIndex.allMapZone.mapZone3Id()&&(vmViewIndex.allMapZone.deliveryFreeTimeIdDrawMapZone3(n.deliveryFreeTimeID),vmViewIndex.allMapZone.mapZoneIdDrawMapZone3(n.mapZoneID),vmViewIndex.allMapZone.valShopMapCodeDrawMapZone3(n.shopMapCode),vmViewIndex.allMapZone.valStartTimeDrawMapZone3(moment(n.startTime,moment_time_format_hhmmss)),vmViewIndex.allMapZone.valEndTimeDrawMapZone3(moment(n.endTime,moment_time_format_hhmmss)),vmViewIndex.allMapZone.activeDeliveryFreeTimeDrawMapZone3(n.active)):n.shopMapCode=="1"&&(n.mapZoneID==vmViewIndex.allMapZone.mapZone1Id()?(vmViewIndex.allMapZone.deliveryFreeTimeIdSetMileZone1(n.deliveryFreeTimeID),vmViewIndex.allMapZone.mapZoneIdSetMileZone1(n.mapZoneID),vmViewIndex.allMapZone.valShopMapCodeSetMileZone1(n.shopMapCode),vmViewIndex.allMapZone.valStartTimeSetMileZone1(moment(n.startTime,moment_time_format_hhmmss)),vmViewIndex.allMapZone.valEndTimeSetMileZone1(moment(n.endTime,moment_time_format_hhmmss)),vmViewIndex.allMapZone.activeDeliveryFreeTimeSetMileZone1(n.active)):n.mapZoneID==vmViewIndex.allMapZone.mapZone2Id()?(vmViewIndex.allMapZone.deliveryFreeTimeIdSetMileZone2(n.deliveryFreeTimeID),vmViewIndex.allMapZone.mapZoneIdSetMileZone2(n.mapZoneID),vmViewIndex.allMapZone.valShopMapCodeSetMileZone2(n.shopMapCode),vmViewIndex.allMapZone.valStartTimeSetMileZone2(moment(n.startTime,moment_time_format_hhmmss)),vmViewIndex.allMapZone.valEndTimeSetMileZone2(moment(n.endTime,moment_time_format_hhmmss)),vmViewIndex.allMapZone.activeDeliveryFreeTimeSetMileZone2(n.active)):n.mapZoneID==vmViewIndex.allMapZone.mapZone3Id()&&(vmViewIndex.allMapZone.deliveryFreeTimeIdSetMileZone3(n.deliveryFreeTimeID),vmViewIndex.allMapZone.mapZoneIdSetMileZone3(n.mapZoneID),vmViewIndex.allMapZone.valShopMapCodeSetMileZone3(n.shopMapCode),vmViewIndex.allMapZone.valStartTimeSetMileZone3(moment(n.startTime,moment_time_format_hhmmss)),vmViewIndex.allMapZone.valEndTimeSetMileZone3(moment(n.endTime,moment_time_format_hhmmss)),vmViewIndex.allMapZone.activeDeliveryFreeTimeSetMileZone3(n.active)))})}function DataMapZoneMile(n){var t=this;t.mileId=ko.observable(n.mileId);t.mapZoneId=ko.observable(n.mapZoneId);t.startMile=ko.observable(n.startMile).extend({numeric:2});t.endMile=ko.observable(n.endMile).extend({numeric:2});t.price=ko.observable(n.price).extend({numeric:2})}function DataSettingViewModel(n){var u=this,i=!1,t=!0,f=filterGlobalConfig(n,"productID"),r=f.split(",");i=checkMultiProduct(r);t=checkIsSmileDining(r);vmViewIndex.allSetting.isMultiProduct(i);vmViewIndex.allSetting.isSmileDining(t);u.isSmileDining=ko.observable(t)}function checkMultiProduct(n){var t=!1;return n.includes(products.cSmileDining)&&n.includes(products.cSmileContactless)&&(t=!0),t}function checkIsSmileDining(n){return n.includes(products.cSmileDining)?!0:!1}function DataGlobalConfigViewModel(n){function s(n){return n?n.name():""}var o=this,t=vmViewIndex.globalConfig,i,f,e,r,u;t.shopNumber(filterGlobalConfig(n,gcShopNumber));t.shopName(filterGlobalConfig(n,gcShopName));t.shopCode(filterGlobalConfig(n,gcShopCode));t.shopStreet(filterGlobalConfig(n,gcShopStreet));t.shopZipCode(filterGlobalConfig(n,gcShopPostal));t.shopPhone(getPhoneFormatUs(filterGlobalConfig(n,gcShopPhone)));t.shopBroad(filterGlobalConfig(n,gcShopBroad));t.shopHeader(filterGlobalConfig(n,gcAnnounceHeader));t.shopBadge(filterGlobalConfig(n,gcAnnounceBadge));t.shopActive(filterGlobalConfig(n,gcAnnounceActive));t.shopAnnounceImage(filterGlobalConfig(n,gcAnnounceImage));t.shopAnnounceCustomImage(filterGlobalConfig(n,"broad-custom-image"));t.shopAnnounceCustomActive(filterGlobalConfig(n,"broad-custom-active"));t.shopActive()==""?t.hasAnnounceData(!1):t.hasAnnounceData(!0);isEmpty(t.shopActive())&&vmViewIndex.allSetting.checkHaveScript(!1);t.shopActive()=="1"?vmViewIndex.allSetting.showActive(!0):vmViewIndex.allSetting.showActive(!1);isEmpty(t.shopAnnounceCustomActive())&&vmViewIndex.allSetting.checkHaveScript(!1);t.shopAnnounceCustomActive()=="1"?vmViewIndex.allSetting.showAnnounceCustomActive(!0):vmViewIndex.allSetting.showAnnounceCustomActive(!1);t.shopAnnounceCustomImage()==""||t.shopAnnounceCustomImage()==null?t.delAnnounceCustomImage(!1):t.delAnnounceCustomImage(!0);t.shopAnnounceImage()==""||t.shopAnnounceImage()==null?t.delAnnounceImage(!1):t.delAnnounceImage(!0);t.orderLimit(filterGlobalConfig(n,gcOrderLimit));vmViewIndex.allSetting.showOrderLimit(t.orderLimit()==="1"||t.orderLimit()==="2");t.topic(filterGlobalConfig(n,"utensils-topic"));t.question(filterGlobalConfig(n,"utensils-question"));t.descriptionSelect(filterGlobalConfig(n,"utensils-description-select"));t.descriptionNotSelect(filterGlobalConfig(n,"utensils-description-not-select"));t.addPrice(filterGlobalConfig(n,"utensils-price"));vmViewIndex.allSetting.addPrice(t.addPrice()==""?0:parseFloat(t.addPrice()).toFixed(2));t.autoSelect(filterGlobalConfig(n,"utensils-auto-select"));vmViewIndex.allSetting.autoSelectUtensils(t.autoSelect()==""?!1:t.autoSelect()=="0"?!1:!0);t.showUtensils(filterGlobalConfig(n,"utensils-show"));vmViewIndex.allSetting.showUtensils(t.showUtensils()==""?!1:t.showUtensils()=="0"?!1:!0);i="";switch(checkResolution()){case"xs":i=cMobile;break;case"sm":i=cTABLET;break;case"md":i=cTABLET;break;default:i=cDESKTOP}cPathGiftCardImage=cProtocal+"://img.smiledining.com/"+t.shopCode()+"/GIFTCER/"+i+"/";t.currentDateTime(filterGlobalConfig(n,"currentDateTime"));t.timeStartPickup(filterGlobalConfig(n,gcTimePickupStart));t.timeEndPickup(filterGlobalConfig(n,gcTimePickupEnd));t.timeStartDelivery(filterGlobalConfig(n,gcTimeDeliveryStart));t.timeEndDelivery(filterGlobalConfig(n,gcTimeDeliveryEnd));t.shopLatitude(filterGlobalConfig(n,gcShopMapLat));t.shopLongitude(filterGlobalConfig(n,gcShopMapLng));t.shopMapCode(filterGlobalConfig(n,gcShopMapCode));t.shopDeliveryTax(filterGlobalConfig(n,gcShopDeliveryTax));t.payByCash(filterGlobalConfig(n,gcPayByCash));t.payByCredit(filterGlobalConfig(n,gcPayByCredit));t.minimumOrder(parseFloat(filterGlobalConfig(n,gcCalminumumOrder)));t.shopCloseReason(filterGlobalConfig(n,gcShopCloseReason));t.shopPeriodTime(filterGlobalConfig(n,gcShopPeriodTime));t.shopPeriodTimePickup(filterGlobalConfig(n,"shop-period-time-pickup"));t.shopPeriodTimeDelivery(filterGlobalConfig(n,"shop-period-time-delivery"));t.shopLogo(filterGlobalConfig(n,gcShopLogo));t.shopBackground(filterGlobalConfig(n,"shop-background"));t.shopLastUpdate(filterGlobalConfig(n,gcShopLastUpdate));t.showGuestCheckOut(filterGlobalConfig(n,"show-guest-checkout"));t.calTax(filterGlobalConfig(n,gcCalTax));t.shopTimeZoneCode(filterGlobalConfig(n,gcShopTimeZoneCode));t.shipmentType(getShippingType(filterGlobalConfig(n,gcShippingType)));t.tipsDesc(filterGlobalConfig(n,gcTipsDesc));t.tipGuide(filterGlobalConfig(n,"tip-guide"));t.themeColor(filterGlobalConfig(n,gcThemeColor));t.tipsAuto(filterGlobalConfig(n,"tip-auto"));t.tipsDescForStore(filterGlobalConfig(n,gcTipsDescForStore));t.tipsDescForCredit(filterGlobalConfig(n,gcTipsDescForCredit));t.customButtonPayAtStore(filterGlobalConfig(n,gcCustomButtonPayAtStore));t.customButtonCredit(filterGlobalConfig(n,gcCustomButtonCredit));t.customSpecialInstructions(filterGlobalConfig(n,gcCustomSpecialInstructions));t.orderLimit(filterGlobalConfig(n,gcOrderLimit));t.customButtonPickup(filterGlobalConfig(n,"custom-button-type-pickup"));t.customButtonDelivery(filterGlobalConfig(n,"custom-button-type-delivery"));t.isShopInfo(filterGlobalConfig(n,"shop-info"));f=filterGlobalConfig(n,"smileContactless");f==!0?t.shopOpenContactless(shopStatus(filterGlobalConfig(n,gcShopStatus))):t.shopOpen(shopStatus(filterGlobalConfig(n,gcShopStatus)));e=t.tipGuide().split(",");t.tipGuideArray(e);t.showTipGuidePlus(e.length==4?!1:!0);t.showTipGuideMinus(e.length==1?!1:!0);updateTipGuideTable(t.tipGuideArray());t.isShopInfo()=="1"?vmViewIndex.allSetting.valueShopInfo(!0):t.isShopInfo()=="0"&&vmViewIndex.allSetting.valueShopInfo(!1);t.dataTipsGuideAuto([]);t.dataTipsGuideAuto.push("Off");ko.utils.arrayForEach(t.tipGuideArray(),function(n){t.dataTipsGuideAuto.push(n+"")});t.selectTipGuideAuto({dataSource:new DevExpress.data.ArrayStore({data:t.dataTipsGuideAuto()}),value:t.tipsAuto()==""?"Off":t.tipsAuto(),onValueChanged:function(n){t.tipsAuto(n.value);setTipsAuto(n.value)}});r=filterGlobalConfig(n,gcShopCloseStartDate);r.length>0&&(r=moment(r,moment_date_format_yyyymmddthhmmss).format(moment_date_format_yyyymmdd));u=filterGlobalConfig(n,gcShopCloseEndDate);u.length>0&&(u=moment(u,moment_date_format_yyyymmddthhmmss).format(moment_date_format_yyyymmdd));t.shopCloseStartDate(r);t.shopCloseEndDate(u);t.startDate(r);t.endDate(u);t.currentDate(moment(t.currentDateTime(),moment_date_format_mmddyyyyhhmmssa).format(moment_date_format_yyyymmdd));t.shippingType(filterGlobalConfig(n,gcShippingType));f==""&&(t.shopOpen()?(t.txtShopOpen("OPEN"),t.isShopOpen(!0)):(t.txtShopOpen("CLOSE"),t.isShopOpen(!1)));f==!0&&(t.shopOpenContactless()?(t.txtShopOpenContactless("OPEN"),t.isShopOpenContactless(!0)):(t.txtShopOpenContactless("CLOSE"),t.isShopOpenContactless(!1)));o.computeMinEndDate=ko.pureComputed(function(){return isEmpty(t.startDate())?t.currentDate():moment(t.startDate()).isAfter(t.currentDate())?t.startDate():t.currentDate()});t.switchShopOpen({offText:"Close",onText:"Open",value:t.shopOpen,width:80,onValueChanged:function(n){n.value==!0?(t.txtShopOpen("OPEN"),t.isShopOpen(!0)):(t.txtShopOpen("CLOSE"),t.isShopOpen(!1))}});t.dxShopCloseStart({value:t.startDate,width:"auto",pickerType:"calendar",type:"date",min:t.currentDate,displayFormat:"MM-dd-yyyy",onValueChanged:function(n){n.value?t.startDate(moment(n.value,moment_date_format_yyyymmdd).format(moment_date_format_yyyymmdd)):t.startDate("")}});t.dxShopCloseEnd({value:t.endDate,width:"auto",pickerType:"calendar",type:"date",min:o.computeMinEndDate,displayFormat:"MM-dd-yyyy",onValueChanged:function(n){n.value?t.endDate(moment(n.value,moment_date_format_yyyymmdd).format(moment_date_format_yyyymmdd)):t.endDate("")}});vmViewIndex.allSetting.shippingType(t.shippingType());t.shippingType()==0?(vmViewIndex.allSetting.isPickup(!0),vmViewIndex.allSetting.isDelivery(!1),vmViewIndex.allSetting.isPickupDelivery(!1)):t.shippingType()==1?(vmViewIndex.allSetting.isPickup(!1),vmViewIndex.allSetting.isDelivery(!0),vmViewIndex.allSetting.isPickupDelivery(!1)):t.shippingType()==2?(vmViewIndex.allSetting.isPickup(!1),vmViewIndex.allSetting.isDelivery(!1),vmViewIndex.allSetting.isPickupDelivery(!0)):(vmViewIndex.allSetting.isPickup(!1),vmViewIndex.allSetting.isDelivery(!1),vmViewIndex.allSetting.isPickupDelivery(!1),vmViewIndex.allSetting.shippingType("2"));vmViewIndex.allSetting.showGuestCheckOut(t.showGuestCheckOut());vmViewIndex.allSetting.isShowGuestCheckOut(t.showGuestCheckOut()=="1"?!0:!1);isEmpty(t.tipsDescForStore())&&isEmpty(t.tipsDescForCredit())&&isEmpty(t.customButtonPayAtStore())&&isEmpty(t.customButtonCredit())&&isEmpty(t.customSpecialInstructions()&&isEmpty(t.customButtonPickup())&&isEmpty(t.customButtonDelivery()))&&vmViewIndex.allSetting.checkHaveScript(!1);t.tipsDescForStore()=="1"?vmViewIndex.allSetting.showTipsDescForStore(!0):vmViewIndex.allSetting.showTipsDescForStore(!1);t.tipsDescForCredit()=="1"?vmViewIndex.allSetting.showTipsDescForCredit(!0):vmViewIndex.allSetting.showTipsDescForCredit(!1);isEmpty(t.customButtonPayAtStore())&&t.customButtonPayAtStore(cDefaultCustomButtonPayAtStore);isEmpty(t.customButtonCredit())&&t.customButtonCredit(cDefaultCustomButtonPayCredit);isEmpty(t.customSpecialInstructions())&&t.customSpecialInstructions(cDefaultCustomSpecialInstruction);isEmpty(t.customButtonPickup())&&t.customButtonPickup(cDefaultCustomButtonPickup);isEmpty(t.customButtonDelivery())&&t.customButtonDelivery(cDefaultCustomButtonDelivery);t.specialInstructions(filterGlobalConfig(n,gcSpecialInstructions));t.specialInstructions()=="1"?vmViewIndex.allSetting.show(!0):vmViewIndex.allSetting.show(!1);t.allowJoinTicket(filterGlobalConfig(n,"allow-join-ticket"));t.allowJoinTicket()=="1"?vmViewIndex.allSetting.allowJoinTicketContactless(!0):vmViewIndex.allSetting.allowJoinTicketContactless(!1);t.showPartySize(filterGlobalConfig(n,"contactless-show-party-size"));t.showPartySize()=="1"?vmViewIndex.allSetting.showPartySizeContactless(!0):vmViewIndex.allSetting.showPartySizeContactless(!1);t.showCurbsidePickup(filterGlobalConfig(n,gcShowCurbsidePickup));t.showCurbsidePickup()==""&&t.showCurbsidePickup("0");t.showCurbsidePickup()=="0"?vmViewIndex.allSetting.showCurbside(!1):vmViewIndex.allSetting.showCurbside(!0);t.customCurbsideInstruction(filterGlobalConfig(n,gcCustomCurbsideInstruction));t.customCurbsideInstruction()==""&&t.customCurbsideInstruction(cCurbsideInstructionDefault);t.shopLogo()==""||t.shopLogo()==null?t.delShopLogo(!1):t.delShopLogo(!0);t.shopBackground()==""||t.shopBackground()==null?t.delShopBackground(!1):t.delShopBackground(!0);t.selectBoxTimeZoneCode(t.shopTimeZoneCode());t.shopTimeZoneCode({dataSource:new DevExpress.data.ArrayStore({data:vmViewIndex.globalConfig.allTimeZone(),key:"timeZoneCode"}),dropDownButtonTemplate:"dropDownButton",displayExpr:s,valueExpr:"timeZoneCode",value:t.selectBoxTimeZoneCode,searchEnabled:!0,onValueChanged:function(n){var i=ko.utils.arrayFilter(vmViewIndex.globalConfig.allTimeZone(),function(t){return t.timeZoneCode()==n.value}),r=_.first(i);t.selectBoxTimeZoneCode(r.timeZoneCode());t.shopTimeZoneCode().value=n.value}})}function getMap(n,t,i,r){function o(){u.clear()}function c(n,t){function p(n){u.insertAt(u.length,n.latLng)}function w(n){n.vertex!=undefined&&u.removeAt(n.vertex)}var l="#FF8C00",a="#32CD32",i=new google.maps.Map(n.divId,{zoom:n.zoom,center:{lat:n.lat,lng:n.lng},mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:n.disableDefaultUI,zoomControl:n.zoomControl,scrollwheel:n.scrollwheel,panControl:!0}),v=new google.maps.LatLngBounds,b=new google.maps.Marker({position:new google.maps.LatLng(n.lat,n.lng),map:i,icon:n.icon,title:n.title}),y={strokeWeight:1,fillOpacity:.45,editable:!0,strokeColor:l,fillColor:a},h,r,s,c;if(e=new google.maps.drawing.DrawingManager({drawingMode:google.maps.drawing.OverlayType.POLYGON,drawingControl:!1,polygonOptions:y,map:i}),e.setMap(i),f=new google.maps.Polygon({strokeWeight:1,fillOpacity:.45,editable:!0,strokeColor:l,fillColor:a}),f.setMap(i),f.setPaths(new google.maps.MVCArray([u])),t.length>0)for(o(),h=t.split(" "),r=0;r<h.length;r++)s=h[r].split(","),_.first(s).length>0&&(c=new google.maps.LatLng(parseFloat(_.first(s)),parseFloat(s[1])),u.insertAt(u.length,c),v.extend(c));e.setDrawingMode(null);google.maps.event.addListener(i,"click",p.bind(this));google.maps.event.addListener(f,"rightclick",w.bind(this))}function l(){var n="";f.getPath().forEach(function(t){n+=t.lat()+","+t.lng()+" "});ko.utils.arrayForEach(vmViewIndex.allMapZone.mapZone(),function(t){t.MapZoneId()==r&&t.MapZoneValue(n)})}function a(){var n="";f.getPath().forEach(function(t){n+=t.lat()+","+t.lng()+" "});ko.utils.arrayForEach(vmViewIndex.allMapZone.mapZone(),function(t){t.MapZoneId()==r&&t.MapZoneValue(n)})}var e,f,u=new google.maps.MVCArray,h=new function(){this.divId="";this.zoom=13;this.lat=t;this.lng=i;this.disableDefaultUI=!0;this.zoomControl=!0;this.scrollwheel=!1;this.icon=cGooGleMapMarkerIcon},s=h;s.divId=_.first($("#googleMap"+r));google.maps.event.addDomListener(window,"load",c(s,n));google.maps.event.addDomListener(document.getElementById("btn-AddArea-Zone"+r),"click",l);google.maps.event.addDomListener(document.getElementById("btn-ClearArea-Zone"+r),"click",o);document.getElementById("selectProduct")!=null&&google.maps.event.addDomListener(document.getElementById("selectProduct"),"click",a)}function MapZoneData(n,t,i){var r=this;r.MapZoneId=ko.observable(n);r.MapZoneValue=ko.observable(t);r.MapZonePrice=ko.observable(i).extend({numeric:2})}function DataMenuViewModel(n,t,i){var r=this;r.foodSet=n;r.foodCategory=t;r.food=i}function DataInstructionLinkToFoodViewModel(n,t,i,r,u,f){var e=this;e.id=n;e.headId=t;e.name=i;e.type=r;e.active=f;r==cFoodSet?(e.foodSetId=u,e.foodCatId="",e.foodId=""):r==cFoodCat?(e.foodSetId="",e.foodCatId=u,e.foodId=""):r==cFood&&(e.foodSetId="",e.foodCatId="",e.foodId=u)}function DataDiscountViewModel(n,t){var i=vmViewIndex.allSetting;ko.mapping.fromJS(n,{},i.data);ko.mapping.fromJS(t,{},i.dataSetUpModal.dataDiscountType);ko.mapping.fromJS(t,{},i.dataViewModelCouponDelivery.dataDiscountType)}function DataDiscountOneTimeUseViewModel(n,t){var i=vmViewIndex.allSetting,u=_.sortBy(n,[function(n){return n.group}]),f,r,e,o;ko.mapping.fromJS(u,{},i.dataDiscountOneTimeUse);ko.mapping.fromJS(t,{},i.dataSetUpModalDiscountOneTimeUse.dataDiscountType);f=_.groupBy(u,function(n){return n.group});r=[];r.push({id:0,value:"Create New"});_.forEach(f,function(n,t){r.push({id:parseInt(t),value:t})});i.discountGroup(r.slice(0));e=ko.utils.arrayFilter(r,function(n){return n.id!=0});i.groupDiscountDownload(r.slice(0));i.groupDiscountDownload().length>0?i.group(_.first(i.groupDiscountDownload()).id):i.group("");i.groupDiscountFilter(e.slice(0));i.groupDiscountFilter().length>0?i.groupDiscountFilterSelect(_.first(i.groupDiscountFilter()).id):i.groupDiscountFilterSelect("");o=ko.utils.arrayFilter(i.dataDiscountOneTimeUse(),function(n){return n.group()==i.groupDiscountFilterSelect()});i.dataSourceDiscountOneTimeUse(o.slice(0))}function DataCouponDeliveryViewModel(n){ko.mapping.fromJS(n,{},vmViewIndex.allSetting.CouponDeliveryData)}function DataCouponDeliveryUpdate(n){var t=this;t.couponDeliveryId=ko.observable(n.couponDeliveryId);t.couponDeliveryName=ko.observable(n.couponDeliveryName);t.couponDeliveryDesc=ko.observable(n.couponDeliveryDesc);t.discountTypeId=ko.observable(n.discountTypeId);t.usedCoupon=ko.observable(n.usedCoupon);t.isTotal=ko.observable(n.isTotal);t.totalCoupon=ko.observable(n.totalCoupon);t.isMinimum=ko.observable(n.isMinimum);t.minimumOrder=ko.observable(n.minimumOrder).extend({numeric:2});t.amountOff=ko.observable(n.amountOff).extend({numeric:2});t.percentOff=ko.observable(n.percentOff).extend({numeric:0});t.isAmount=ko.observable(n.isAmount);t.isPercent=ko.observable(n.isPercent);t.isFree=ko.observable(n.isFree);t.couponDeliveryCode=ko.observable(n.couponDeliveryCode);t.startDate=ko.observable(n.startDat);t.endDate=ko.observable(n.endDate);t.createOn=ko.observable(n.createOn);t.modifyOn=ko.observable(n.modifyOn);t.active=ko.observable(n.active)}function DataDiscountSetUpViewModel(n){var t=this;t.discountId=ko.observable(n.discountId);t.discountName=ko.observable(n.discountName);t.discountDesc=ko.observable(n.discountDesc);t.discountTypeId=ko.observable(n.discountTypeId);t.isCouponAmtOff=ko.observable(n.isCouponAmtOff);t.isCouponPercentOff=ko.observable(n.isCouponPercentOff);t.couponAmountOff=ko.observable(n.couponAmountOff).extend({numeric:2});t.couponPercentOff=ko.observable(n.couponPercentOff).extend({numeric:2});t.couponCode=ko.observable(n.couponCode);t.startDate=ko.observable(n.startDate);t.endDate=ko.observable(n.endDate);t.active=ko.observable(n.active);n.couponCode==null?(t.isAutoDiscount=ko.observable(!0),t.isCouponDiscount=ko.observable(!1)):(t.isAutoDiscount=ko.observable(!1),t.isCouponDiscount=ko.observable(!0));t.termsAmountMin=ko.observable(n.termsAmountMin).extend({numeric:2});t.termsAmountMax=ko.observable(n.termsAmountMax).extend({numeric:2});t.isUnlimitMin=ko.observable();t.isUnlimitMax=ko.observable();t.isUnlimitMin(n.termsAmountMin==0?!0:!1);t.isUnlimitMax(n.termsAmountMax==0?!0:!1);t.isPickup=ko.observable(n.isPickup);t.isDelivery=ko.observable(n.isDelivery);t.shippingTypeId=ko.observable(shippingType.cAll);n.isPickup&&!n.isDelivery?t.shippingTypeId(shippingType.cPickUp):!n.isPickup&&n.isDelivery&&t.shippingTypeId(shippingType.cDelivery);t.isTotal=ko.observable(n.isTotal);t.totalCoupon=ko.observable(n.totalCoupon)}function DataDiscountOneTimeUseSetUpViewModel(n){var t=this;t.discountOneTimeUseId=ko.observable(n.discountOneTimeUseId);t.discountOneTimeUseName=ko.observable(n.discountOneTimeUseName);t.group=ko.observable(n.group);t.discountTypeId=ko.observable(n.discountTypeId);t.isCouponAmtOff=ko.observable(n.isCouponAmtOff);t.isCouponPercentOff=ko.observable(n.isCouponPercentOff);t.couponAmountOff=ko.observable(n.couponAmountOff).extend({numeric:2});t.couponPercentOff=ko.observable(n.couponPercentOff).extend({numeric:2});t.couponCode=ko.observable(n.couponCode);t.startDate=ko.observable(n.startDate);t.endDate=ko.observable(n.endDate);t.usedOn=ko.observable(n.usedOn);t.isUse=ko.observable(n.isUse);t.termsAmountMin=ko.observable(n.termsAmountMin).extend({numeric:2});t.termsAmountMax=ko.observable(n.termsAmountMax).extend({numeric:2});t.isUnlimitMin=ko.observable();t.isUnlimitMax=ko.observable();t.isUnlimitMin(n.termsAmountMin==0?!0:!1);t.isUnlimitMax(n.termsAmountMax==0?!0:!1);t.isPickup=ko.observable(n.isPickup);t.isDelivery=ko.observable(n.isDelivery);t.shippingTypeId=ko.observable(shippingType.cAll);n.isPickup&&!n.isDelivery?t.shippingTypeId(shippingType.cPickUp):!n.isPickup&&n.isDelivery&&t.shippingTypeId(shippingType.cDelivery)}function DataAutoChargeSetUpViewModel(n){var t=vmViewIndex.allSetting;ko.mapping.fromJS(n,{},t.dataAutoCharge)}function DataHolidaySetUpViewModel(n){var t=vmViewIndex.allSetting;t.dataHoliday([]);ko.mapping.fromJS(n,{},t.dataHoliday)}function DataPromotionSetUpViewModel(n){var t=vmViewIndex.allSetting,u=n.listFood.slice(0),f=ko.utils.arrayFilter(n.listFood,function(n){return n.isFree==!0}),e,o,i,r,s,c,h,l;ko.mapping.fromJS(u,{},t.dataListMainFood);ko.mapping.fromJS(f,{},t.dataListFreeFood);ko.mapping.fromJS(n.listFoodCategory,{},t.dataListFoodCat);e=ko.observableArray([]);_.forEach(f,function(t){var i=ko.utils.arrayFilter(n.listFoodCategory,function(n){return n.foodCatId==t.foodCatId});i.length>0&&e.push({foodCatName:_.first(i).foodCatName,foodCatId:t.foodCatId,foodId:t.foodId,foodName:t.foodName,qty:1})});ko.mapping.fromJS(e,{},t.dataArrFreeFood);o=ko.observableArray([]);_.forEach(u,function(t){var i=ko.utils.arrayFilter(n.listFoodCategory,function(n){return n.foodCatId==t.foodCatId});i.length>0&&o.push({foodCatName:_.first(i).foodCatName,foodCatId:t.foodCatId,foodId:t.foodId,foodName:t.foodName,qty:1})});ko.mapping.fromJS(o,{},t.dataArrMainFood);ko.mapping.fromJS(n.listMainPrice,{},t.dataMainPrice);i=ko.observableArray([]);ko.utils.arrayForEach(n.listGrpFreeFood,function(t){var r=new SetUpGroupFreeFoodViewModel,e,u,s;r.promotionGroupFreeFoodId(t.promotionGroupFreeFoodId);r.promotionGroupFreeFoodName(t.promotionGroupFreeFoodName);var u=[],h=[],o=[];ko.utils.arrayForEach(t.listPromotionFreeFood,function(t){var i=ko.utils.arrayFilter(n.listFreeFood,function(n){return n.promotionFreeFoodId==t});h.push(_.first(i).foodId);o.push({foodId:_.first(i).foodId,qty:_.first(i).qty})});e=[];u=[];_.forEach(o,function(t){var i=ko.utils.arrayFilter(f,function(n){return n.foodId==t.foodId}),o;i.length>0&&(o=ko.utils.arrayFilter(n.listFoodCategory,function(n){return n.foodCatId==_.first(i).foodCatId}),o.length>0&&(e={foodCatName:_.first(o).foodCatName,foodCatId:_.first(i).foodCatId,foodId:t.foodId,foodName:_.first(i).foodName,qty:t.qty},r.listPromotionFreeFood.push(e),u.push(_.first(i).foodName)))});s=JSON.stringify(r.listPromotionFreeFood());r.jsonPromotionFreeFood(s);r.strFreeFoodName(u.join(","));i.push(r)});ko.mapping.fromJS(i,{},t.dataGroupFreeFood);r=ko.observableArray([]);ko.utils.arrayForEach(n.listGrpMainFood,function(t){var i=new SetUpGroupMainFoodViewModel,e,f,s;i.promotionGroupMainFoodId(t.promotionGroupMainFoodId);i.promotionGroupMainFoodName(t.promotionGroupMainFoodName);var f=[],h=[],o=[];ko.utils.arrayForEach(t.listPromotionMainFood,function(t){var i=ko.utils.arrayFilter(n.listMainFood,function(n){return n.promotionMainFoodId==t});h.push(_.first(i).foodId);o.push({foodId:_.first(i).foodId,qty:_.first(i).qty})});e=[];f=[];_.forEach(o,function(t){var r=ko.utils.arrayFilter(u,function(n){return n.foodId==t.foodId}),o;r.length>0&&(o=ko.utils.arrayFilter(n.listFoodCategory,function(n){return n.foodCatId==_.first(r).foodCatId}),e={foodCatName:_.first(o).foodCatName,foodCatId:_.first(r).foodCatId,foodId:t.foodId,foodName:_.first(r).foodName,qty:t.qty},i.listPromotionMainFood.push(e),f.push(_.first(r).foodName))});s=JSON.stringify(i.listPromotionMainFood());i.jsonPromotionMainFood(s);i.strMainFoodName(f.join(","));r.push(i)});ko.mapping.fromJS(r,{},t.dataGroupMainFood);s=ko.observableArray([]);c=ko.utils.arrayFilter(n.listPromotion,function(n){return n.promotionTypeId==cConditionPrice});ko.utils.arrayForEach(c,function(t){var r=new SetUpConditionViewModel,u;r.promotionId(t.promotionId);r.promotionTypeId(t.promotionTypeId);r.isAutoFree(t.isAutoFree);r.active(t.active);r.startDate(t.startDate);r.endDate(t.endDate);r.promotionMainPriceId(t.promotionMainPriceId);var f=ko.utils.arrayFilter(n.listMainPrice,function(n){return n.promotionMainPriceId==t.promotionMainPriceId}),e=_.first(f).priceMin.toFixed(2),o=_.first(f).priceMax.toFixed(2);r.strMainPriceName(e+" - "+o);r.promotionGroupFreeFood(t.promotionGroupFreeFood);r.listPromotionGroupFreeFood(t.listPromotionGroupFreeFood);t.listPromotionGroupFreeFood!=null?(u=[],ko.utils.arrayForEach(t.listPromotionGroupFreeFood,function(n){var t=ko.utils.arrayFilter(i(),function(t){return t.promotionGroupFreeFoodId()==n});u.push(_.first(t).promotionGroupFreeFoodName())}),r.strGrpFreeFoodName(u.join(","))):r.strGrpFreeFoodName("-");r.promotionGroupFreeFoodStr(t.promotionGroupFreeFoodStr);s.push(r)});ko.mapping.fromJS(s,{},t.dataConditionMainPrice);h=ko.observableArray([]);l=ko.utils.arrayFilter(n.listPromotion,function(n){return n.promotionTypeId==cConditionFood});ko.utils.arrayForEach(l,function(n){var t=new SetUpConditionViewModel,u,f;t.promotionId(n.promotionId);t.promotionTypeId(n.promotionTypeId);t.isAutoFree(n.isAutoFree);t.active(n.active);t.startDate(n.startDate);t.endDate(n.endDate);t.promotionGroupMainFood(n.promotionGroupMainFood);t.listPromotionGroupMainFood(n.listPromotionGroupMainFood);u=[];ko.utils.arrayForEach(n.listPromotionGroupMainFood,function(n){var t=ko.utils.arrayFilter(r(),function(t){return t.promotionGroupMainFoodId()==n});u.push(_.first(t).promotionGroupMainFoodName())});t.strGrpMainFoodName(u.join(","));t.promotionGroupFreeFood(n.promotionGroupFreeFood);t.listPromotionGroupFreeFood(n.listPromotionGroupFreeFood);n.listPromotionGroupFreeFood!=null?(f=[],ko.utils.arrayForEach(n.listPromotionGroupFreeFood,function(n){var t=ko.utils.arrayFilter(i(),function(t){return t.promotionGroupFreeFoodId()==n});f.push(_.first(t).promotionGroupFreeFoodName())}),t.strGrpFreeFoodName(f.join(","))):t.strGrpFreeFoodName("-");t.promotionGroupFreeFoodStr(n.promotionGroupFreeFoodStr);t.promotionGroupMainFoodStr(n.promotionGroupMainFoodStr);h.push(t)});ko.mapping.fromJS(h,{},t.dataConditionMainFood)}function DataShopCloseSetUpViewModel(n){var i=vmViewIndex.allSetting,r=_.groupBy(n,function(n){return n.startDate+"#"+n.endDate}),t=[];_.forEach(r,function(n){var i=[];i.push(new DataTimeCloseViewModel(n[0]));n.length>1&&i.push(new DataTimeCloseViewModel(n[1]));t.push({startDate:n[0].startDate,endDate:n[0].endDate,reason:n[0].reason,time:i})});ko.mapping.fromJS(t,{},i.dataShopClose)}function DataGraguityViewModel(n,t){var i=vmViewIndex.allSetting.dataGratuity,s=ko.utils.arrayFilter(t,function(n){return n.active==!0}),r,u,f,e,o;ko.mapping.fromJS(s,{},i.dataGratuityCharge);r=filterGlobalConfig(n,"gratuity-auto");r=="1"?(i.gratuityChargeAutoEnable(!0),i.gratuityChargeAutoDisable(!1),i.gratuityChargeAuto(r)):(i.gratuityChargeAutoEnable(!1),i.gratuityChargeAutoDisable(!0),i.gratuityChargeAuto("0"));u=filterGlobalConfig(n,"gratuity-partysize-auto");u==""?i.gratuityPartySize("1"):i.gratuityPartySize(u);f=filterGlobalConfig(n,"gratuity-id-auto");f==""?i.gratuityChargeId(_.first(t)):i.gratuityChargeId(f);e=filterGlobalConfig(n,"gratuity-tax");e=="1"?(i.gratuityChargeTaxEnable(!0),i.gratuityChargeTaxDisable(!1),i.gratuityChargeTax(e)):(i.gratuityChargeTaxEnable(!1),i.gratuityChargeTaxDisable(!0),i.gratuityChargeTax("0"));o=filterGlobalConfig(n,"gratuitycharge-tax-percentage");o==""?i.gratuityChargeTaxPercentage(0):i.gratuityChargeTaxPercentage(parseFloat(o))}function DataAutoChargeViewModel(n){var t=this;t.autoChargeId=ko.observable(n.autoChargeId);t.autoChargeName=ko.observable(n.autoChargeName);t.autoChargeDesc=ko.observable(n.autoChargeDesc);t.isAmtCharge=ko.observable(n.isAmtCharge);t.isPercentCharge=ko.observable(n.isPercentCharge);t.amountCharge=ko.observable(n.amountCharge).extend({numeric:2});t.percentCharge=ko.observable(n.percentCharge).extend({numeric:2});t.isTax=ko.observable(n.isTax);t.taxCharge=ko.observable(n.taxCharge).extend({numeric:2});t.isPickUp=ko.observable(n.isPickUp);t.isDelivery=ko.observable(n.isDelivery);t.active=ko.observable(n.active);t.isThirdParty=ko.observable(n.isThirdParty)}function DataHolidayViewModel(n){var t=this;t.holidayId=ko.observable(n.holidayId);t.description=ko.observable(n.description);t.startDate=ko.observable(moment(n.startDate).format(moment_date_format_mmddyyyyhhmmssa2));t.endDate=ko.observable(moment(n.endDate).format(moment_date_format_mmddyyyyhhmmssa2));t.active=ko.observable(n.active);t.allDay=ko.observable(!0)}function DataShopCloseViewModel(n){var t=this,i=_.first(n),r;t.startDate=ko.observable(i.startDate);t.endDate=ko.observable(i.endDate);t.reason=ko.observable(i.reason);r=[];ko.utils.arrayForEach(n,function(n){var t=new DataTimeCloseViewModel(n);r.push(t)});t.time=ko.observableArray(r.slice(0))}function DataTimeCloseViewModel(n){var t=this;t.startTime=ko.observable(n.startTime);t.endTime=ko.observable(n.endTime);t.startTimePmAm=ko.observable(n.startTimePmAm);t.endTimePmAm=ko.observable(n.endTimePmAm);t.shopCloseId=ko.observable(n.shopCloseId)}function DataMainPriceViewModel(n){var t=this;t.promotionMainPriceId=ko.observable(n.promotionMainPriceId);t.priceMin=ko.observable(n.priceMin).extend({numeric:2});t.priceMax=ko.observable(n.priceMax).extend({numeric:2});t.createOn=ko.observable(n.createOn);t.modifyOn=ko.observable(n.modifyOn)}function DataGroupMainFoodViewModel(n){var t=this,i=_.first(n.listGrpMainFood),e,r,u,f,o;t.promotionGroupMainFoodId=ko.observable(i.promotionGroupMainFoodId);t.promotionGroupMainFoodName=ko.observable(i.promotionGroupMainFoodName);t.listPromotionMainFood=ko.observableArray([]);t.jsonPromotionMainFood=ko.observable();t.strMainFoodName=ko.observable();e=[];r=[];ko.utils.arrayForEach(i.listPromotionMainFood,function(t){var i=ko.utils.arrayFilter(n.listMainFood,function(n){return n.promotionMainFoodId==t});e.push(_.first(i).foodId);r.push({foodId:_.first(i).foodId,qty:_.first(i).qty})});u=[];f=[];_.forEach(r,function(n){var i=ko.utils.arrayFilter(vmViewIndex.allSetting.dataListMainFood(),function(t){return t.foodId()==n.foodId}),r=ko.utils.arrayFilter(vmViewIndex.allSetting.dataListFoodCat(),function(n){return n.foodCatId()==_.first(i).foodCatId()}),e=ko.observable(n.qty);u={foodCatName:_.first(r).foodCatName,foodCatId:_.first(i).foodCatId,foodId:_.first(i).foodId,foodName:_.first(i).foodName,qty:e};t.listPromotionMainFood.push(u);f.push(_.first(i).foodName())});o=JSON.stringify(t.listPromotionMainFood());t.jsonPromotionMainFood(o);t.strMainFoodName(f.join(","))}function DataGroupFreeFoodViewModel(n){var t=this,i=_.first(n.listGrpFreeFood),e,r,u,f,o;t.promotionGroupFreeFoodId=ko.observable(i.promotionGroupFreeFoodId);t.promotionGroupFreeFoodName=ko.observable(i.promotionGroupFreeFoodName);t.listPromotionFreeFood=ko.observableArray([]);t.jsonPromotionFreeFood=ko.observable();t.strFreeFoodName=ko.observable();e=[];r=[];ko.utils.arrayForEach(i.listPromotionFreeFood,function(t){var i=ko.utils.arrayFilter(n.listFreeFood,function(n){return n.promotionFreeFoodId==t});e.push(_.first(i).foodId);r.push({foodId:_.first(i).foodId,qty:_.first(i).qty})});u=[];f=[];_.forEach(r,function(n){var i=ko.utils.arrayFilter(vmViewIndex.allSetting.dataListFreeFood(),function(t){return t.foodId()==n.foodId}),r=ko.utils.arrayFilter(vmViewIndex.allSetting.dataListFoodCat(),function(n){return n.foodCatId()==_.first(i).foodCatId()}),e=ko.observable(n.qty);u={foodCatName:_.first(r).foodCatName,foodCatId:_.first(i).foodCatId,foodId:n.foodId,foodName:_.first(i).foodName,qty:e};t.listPromotionFreeFood.push(u);f.push(_.first(i).foodName())});o=JSON.stringify(t.listPromotionFreeFood());t.jsonPromotionFreeFood(o);t.strFreeFoodName(f.join(","))}function DataConditionViewModel(n,t){var i=this,r,u;if(i.promotionId=ko.observable(n.promotionId),i.promotionTypeId=ko.observable(n.promotionTypeId),i.isAutoFree=ko.observable(n.isAutoFree),i.active=ko.observable(n.active),i.startDate=ko.observable(moment(n.startDate).format(moment_date_format_mmddyyyyhhmmssa2)),i.endDate=ko.observable(moment(n.endDate).format(moment_date_format_mmddyyyyhhmmssa2)),t)if(i.promotionMainPriceId=ko.observable(n.promotionMainPriceId),i.strMainPriceName=ko.observable(),n.promotionMainPriceId!=null&&n.promotionTypeId==cConditionPrice){var f=ko.utils.arrayFilter(vmViewIndex.allSetting.dataMainPrice(),function(t){return t.promotionMainPriceId()==n.promotionMainPriceId}),e=parseFloat(_.first(f).priceMin()).toFixed(2),o=parseFloat(_.first(f).priceMax()).toFixed(2);i.strMainPriceName(e+" - "+o)}else i.strMainPriceName("-");t||(i.promotionGroupMainFood=ko.observable(n.promotionGroupMainFood),i.listPromotionGroupMainFood=ko.observableArray(n.listPromotionGroupMainFood),i.strGrpMainFoodName=ko.observable(),n.listPromotionGroupMainFood!=null&&n.promotionTypeId==cConditionFood?(r=[],ko.utils.arrayForEach(n.listPromotionGroupMainFood,function(n){var t=ko.utils.arrayFilter(vmViewIndex.allSetting.dataGroupMainFood(),function(t){return t.promotionGroupMainFoodId()==n});r.push(_.first(t).promotionGroupMainFoodName())}),i.strGrpMainFoodName(r.join(","))):i.strGrpMainFoodName("-"),i.promotionGroupMainFoodStr=ko.observable(n.promotionGroupMainFoodStr));i.promotionGroupFreeFood=ko.observable(n.promotionGroupFreeFood);i.listPromotionGroupFreeFood=ko.observableArray(n.listPromotionGroupFreeFood);i.strGrpFreeFoodName=ko.observable();n.listPromotionGroupFreeFood!=null?(u=[],ko.utils.arrayForEach(n.listPromotionGroupFreeFood,function(n){var t=ko.utils.arrayFilter(vmViewIndex.allSetting.dataGroupFreeFood(),function(t){return t.promotionGroupFreeFoodId()==n});u.push(_.first(t).promotionGroupFreeFoodName())}),i.strGrpFreeFoodName(u.join(","))):i.strGrpFreeFoodName("-");i.promotionGroupFreeFoodStr=ko.observable(n.promotionGroupFreeFoodStr)}function DataConfigSetUpViewModel(n){var t=vmViewIndex.configSetUp,l=ko.observableArray([]),i,a,e,r,o,s,f,h,u,v,c,w;ko.mapping.fromJS(n.listProductTag,{},l);t.productTagStore(l);i=ko.observableArray([]);t.choiceOption.cloneDataArrayStore(n.listChoiceOption);ko.mapping.fromJS(n.listChoiceOption,{},i);a=new DevExpress.data.ArrayStore({key:"choiceOptionId",data:i()});t.choiceOption.dataArrayStore(a);e=ko.utils.arrayFilter(n.listChoice,function(n){return n.choiceTypeId==cChoiceType.option});r=ko.observableArray([]);ko.mapping.fromJS(e,{},r);t.choice.dataChoice(r());t.choice.dataChoiceOption(n.listChoiceOption);o=ko.utils.arrayFilter(e,function(n){return n.choiceOptionId==_.first(i()).choiceOptionId()});t.choice.cloneDataArrayStore(o);u=new DevExpress.data.ArrayStore({key:"choiceId",data:r()});t.choice.dataArrayStore(u);t.choice.dataArrayStore()._array=ko.mapping.fromJS(o)();isEmpty(n.listChoiceOption)||(t.choice.choiceOptionId(_.first(n.listChoiceOption).choiceOptionId),t.choice.currentChoiceOptionSelect(_.first(n.listChoiceOption).choiceOptionId));s=ko.utils.arrayFilter(n.listChoice,function(n){return n.choiceTypeId==cChoiceType.modify});f=ko.observableArray([]);ko.mapping.fromJS(s,{},f);t.choiceModify.dataChoice(f());t.choiceModify.dataChoiceOption(n.listChoiceOption);h=ko.utils.arrayFilter(s,function(n){return n.choiceOptionId==_.first(i()).choiceOptionId()});t.choiceModify.cloneDataArrayStore(h);u=new DevExpress.data.ArrayStore({key:"choiceId",data:f()});t.choiceModify.dataArrayStore(u);t.choiceModify.dataArrayStore()._array=ko.mapping.fromJS(h)();isEmpty(n.listChoiceOption)||(t.choiceModify.choiceOptionId(_.first(n.listChoiceOption).choiceOptionId),t.choiceModify.currentChoiceOptionSelect(_.first(n.listChoiceOption).choiceOptionId));ko.mapping.fromJS(n.listTaxRate,{},t.taxRate.data);ko.mapping.fromJS(n.listRevenueClass,{},t.revenueClass.dataRevenueClass);ko.mapping.fromJS(n.listTaxRate,{},t.revenueClass.dataTaxRate);v=ko.utils.arrayFilter(t.revenueClass.dataRevenueClass(),function(n){return n.taxRateId()==_.first(t.revenueClass.dataTaxRate()).taxRateId()});ko.mapping.fromJSON(ko.mapping.toJSON(v),{},t.revenueClass.data);isEmpty(n.listTaxRate)||(t.revenueClass.taxRateId(_.first(n.listTaxRate).taxRateId),t.revenueClass.currentTaxRateSelect(_.first(n.listTaxRate).taxRateId));var y=ko.observableArray([]),p=ko.observableArray([]),b=ko.utils.arrayFilter(n.listLinkToFood,function(n){return isEmpty(n.plu)});ko.mapping.fromJS(b,{},y);t.linkToFood.listFood(y());ko.mapping.fromJS(n.listFoodChoiceMap,{},p);t.linkToFood.listFoodChoiceMap(p());ko.mapping.fromJS(n.listGraguityCharge,{},t.graguityCharge.data);c=ko.observableArray([]);t.foodPrefix.cloneDataArrayStore(n.listFoodPrefix);ko.mapping.fromJS(n.listFoodPrefix,{},c);w=new DevExpress.data.ArrayStore({key:"prefixId",data:c()});t.foodPrefix.dataArrayStore(w);ko.mapping.fromJS(n.listIcon,{},t.iconSetup.dataArrayStore)}function DataChoiceOptionViewModel(n){var t=this;t.choiceOptionId=ko.observable(n.choiceOptionId);t.choiceOptionName=ko.observable(n.choiceOptionName);t.choiceOptionNameAlt=ko.observable(n.choiceOptionNameAlt);t.choiceMulti=ko.observable(n.choiceMulti);t.choiceRequire=ko.observable(n.choiceRequire);t.choiceNewLine=ko.observable(n.choiceNewLine);t.choiceSorting=ko.observable(n.choiceSorting);t.active=ko.observable(n.active);t.arrange=ko.observable(n.arrange);t.maxChoice=ko.observable(n.maxChoice);t.listProductTag=ko.observableArray(n.listProductTag);t.plu=ko.observable(n.plu)}function DataChoiceViewModel(n){var t=this;t.choiceId=ko.observable(n.choiceId);t.choiceName=ko.observable(n.choiceName);t.choiceNameAlt=ko.observable(n.choiceNameAlt);t.choicePrice=ko.observable(n.choicePrice);t.choiceWeight=ko.observable(n.choiceWeight);t.choiceSorting=ko.observable(n.choiceSorting);t.choiceOptionId=ko.observable(n.choiceOptionId);t.active=ko.observable(n.active);t.choiceGuid=ko.observable(n.choiceGuid);t.choiceTypeId=ko.observable(n.choiceTypeId);t.choiceOperator=ko.observable(n.choiceOperator);t.listProductTag=ko.observableArray(n.listProductTag);t.plu=ko.observable(n.plu)}function DataTaxRateViewModel(n){var t=this;t.taxRateId=ko.observable(n.taxRateId);t.taxRateName=ko.observable(n.taxRateName);t.taxRatePercentage=ko.observable(n.taxRatePercentage);t.makrChar=ko.observable(n.markChar);t.makrLegend=ko.observable(n.makrLegend);t.active=ko.observable(n.active)}function DataGraguityChargeViewModel(n){var t=this;t.graguityId=ko.observable(n.graguityId);t.graguityName=ko.observable(n.graguityName);t.graguityPercentage=ko.observable(n.graguityPercentage);t.active=ko.observable(n.active)}function DataFoodPrefixViewModel(n){var t=this;t.prefixId=ko.observable(n.prefixId);t.prefixName=ko.observable(n.prefixName);t.prefixDesc=ko.observable(n.prefixDesc);t.prefixCal=ko.observable(n.prefixCal);t.prefixColorRed=ko.observable(n.prefixColorRed);t.prefixStatus=ko.observable(n.prefixStatus);t.prefixSorting=ko.observable(n.prefixSorting);t.isPrefixCal=ko.observable(n.isPrefixCal);t.active=ko.observable(n.active)}function DataRevenueClassViewModel(n){var t=this;t.revenueClassId=ko.observable(n.revenueClassId);t.revenueClassName=ko.observable(n.revenueClassName);t.isLiquor=ko.observable(n.isLiquor);t.active=ko.observable(n.active);t.taxRateId=ko.observable(n.taxRateId)}function DataIconViewModel(n){var t=this;t.iconId=ko.observable(n.iconId);t.iconName=ko.observable(n.iconName);t.iconImage=ko.observable(n.iconImage);t.hexColor=ko.observable(n.hexColor);t.isFocus=ko.observable(n.isFocus);t.active=ko.observable(n.active);t.isShowText=ko.observable(n.isShowText)}function DataReportViewModel(n){var t=vmViewIndex.report,i=moment(n.endDate).diff(n.fromDate,"day")+1;ko.mapping.fromJS(n.listSaleMadeDetail,{},t.saleMadeDetail.data);t.chart.fromDate(n.fromDate);t.chart.endDate(n.endDate);t.chart.fromDateCompare(n.fromDateCompare);t.chart.endDateCompare(n.endDateCompare);t.chart.showCompare(n.showCompare);var r=n.saleMadeChart,u=n.orderMadeChart,h=n.saleMadeChartCompare,c=n.orderMadeChartCompare,l=n.fromDate,a=n.endDate,v=n.fromDateCompare,y=n.endDateCompare,f=n.fromDateCompare,e=n.endDateCompare,o=n.fromDate,s=n.endDate;t.chart.showCompare==!1?genChart(r,u,null,null,o,s,f,e,t.chart.updateChart(),i,t.chart.showCompare()):genChart(r,u,h,c,o,s,f,e,t.chart.updateChart(),i,t.chart.showCompare())}function DataBalanceViewModel(n){var t=vmViewIndex.balance;ko.mapping.fromJS([n.summary],{},t.summary);t.fromDate(_.first(t.summary()).fromDate());t.endDate(_.first(t.summary()).endDate());ko.mapping.fromJS(n.listLiveOrder,{},t.ticket)}function DataStatementViewModel(n){var t=vmViewIndex.statement;ko.mapping.fromJS([n.summary],{},t.summary);t.shopName(n.shopName);t.shopStreet(n.shopStreet);t.shopCity(n.shopCity);t.shopState(n.shopState);t.shopPostal(n.shopPostal);t.fromDate(_.first(t.summary()).fromDate());t.endDate(_.first(t.summary()).endDate());isEmpty(n.statementHeader)||(ko.mapping.fromJS(n.statementHeader,{},t.statementHeader.data),t.statementHeader.value(_.first(t.statementHeader.data()).id()));isEmpty(n.statementDetail)||ko.mapping.fromJS(n.statementDetail,{},t.statementDetail)}function DataDeliveryBillingViewModel(n){var t=vmViewIndex.deliveryBilling;t.shopName(n.shopName);t.shopStreet(n.shopStreet);t.period(n.period);t.countCommission(n.countCommission);t.countTip(n.countTip);t.sumCommission(n.sumCommission);t.sumTip(n.sumTip);t.totalAmount(rountTwo(t.sumCommission()+t.sumTip()));t.selectMonth(new Date(n.currentDateTime));ko.mapping.fromJS(n.deliveryBillingDetail,{},t.deliveryBillingDetail)}function DataMarketingViewModel(n){var i=vmViewIndex.marketing,t;t=n==null?["300","500","1000"]:n.globalConfigValue.split(",");ko.mapping.fromJS(t,{},i.recordRowArr)}function DataGiftCardViewViewModel(n){var t=vmViewIndex.giftCard;ko.mapping.fromJS(n,{},t.giftCardView.dataGiftCardView)}function DataGiftCardViewModel(n){var t=vmViewIndex.giftCard,u=vmViewIndex.giftCard.addGiftCard,r;for(ko.mapping.fromJS(n.giftCardImageTable,{},t.giftCardImageStorage),ko.mapping.fromJS(n.giftCardValueTable,{},t.giftCardValueStorage),ko.mapping.fromJS(n.customDiscountTable,{},t.customDiscountStorage),i=0;i<t.giftCardValueStorage().length;i++)t.giftCardValueStorage()[i].getAsPay()&&u.refGiftCardValueId(t.giftCardValueStorage()[i].giftCerValueId()),t.giftCardValueSorting.push({giftCerValueId:t.giftCardValueStorage()[i].giftCerValueId(),sorting:t.giftCardValueStorage()[i].sorting()});for(i=0;i<t.giftCardImageStorage().length;i++)r=cPathGiftCardImage+t.giftCardImageStorage()[i].giftCerImagesName(),t.giftCardImageStorage()[i].giftCerImagesName(r)}function DataCustomDiscountToGiftCardValue(n,t){var i=n,f,e,o;i.refGiftCardValueId().length<=0&&(f=new DataGiftCardValueViewModel({giftCerValueId:t.giftCerCustomDiscountId,giftCerValueName:t.discountValueName,getAmount:0,payAmount:0,isDiscountAmount:!1,isDiscountPercent:!1,discountAmount:0,discountPercent:0,getAsPay:!0,activateOnly:!0,sorting:t.sorting,active:t.active}),i.giftCardValueData.push(f),i.haveDiscountData(!0),i.refGiftCardValueId(t.refGiftCerValueId),i.discountValueName(t.discountValueName));var s=t.min-0,h=t.max-0,r=t.min,u=t.max;t.isCustomDiscountAmount?(r-=t.amountOff,u-=t.amountOff,r<0&&(r=0),u<0&&(u=0)):t.isCustomDiscountPercent&&(r=rountTwo(r-t.min*t.percentOff/100),u=rountTwo(u-t.max*t.percentOff/100));e=new DataGiftCardValueViewModel({giftCerValueId:t.giftCerCustomDiscountId,giftCerValueName:t.discountName,getAmount:s+" - "+h,payAmount:r+" - "+u,isDiscountAmount:t.isCustomDiscountAmount,isDiscountPercent:t.isCustomDiscountPercent,discountAmount:t.amountOff,discountPercent:t.percentOff,getAsPay:!0,activateOnly:!0,active:t.active});o=new DataGridGiftCardValueViewModel(e);i.dataGridGiftCardValueData.push(o)}function DataUpdateCustomDiscountToGiftCardValue(n,t){var u=n,f=t.min-0,e=t.max-0,i=t.min,r=t.max;t.isCustomDiscountAmount?(i-=t.amountOff,r-=t.amountOff,i<0&&(i=0),r<0&&(r=0)):t.isCustomDiscountPercent&&(i=rountTwo(i-t.min*t.percentOff/100),r=rountTwo(r-t.max*t.percentOff/100));var o=new DataGiftCardValueViewModel({giftCerValueId:t.giftCerCustomDiscountId,giftCerValueName:t.discountName,getAmount:f+" - "+e,payAmount:i+" - "+r,isDiscountAmount:t.isCustomDiscountAmount,isDiscountPercent:t.isCustomDiscountPercent,discountAmount:t.amountOff,discountPercent:t.percentOff,getAsPay:!0,activateOnly:!0,active:t.active}),s=new DataGridGiftCardValueViewModel(o),h=ko.utils.arrayFilter(u.dataGridGiftCardValueData(),function(n){return n.valueId()==t.giftCerCustomDiscountId});u.dataGridGiftCardValueData.replace(_.first(h),s)}function DataGiftCardImageViewModel(n){var t=this;t.giftCerImagesId=ko.observable(n.giftCerImagesId);t.giftCerImagesName=ko.observable(n.giftCerImagesName);t.active=ko.observable(n.active);t.isDefault=ko.observable(n.isDefault);t.sorting=ko.observable(n.sorting)}function DataGiftCardValueViewModel(n){var t=this;t.giftCerValueId=ko.observable(n.giftCerValueId);t.giftCerID=ko.observable("1");t.giftCerValueName=ko.observable(n.giftCerValueName);t.payAmount=ko.observable(n.payAmount);t.getAmount=ko.observable(n.getAmount);t.activateOnly=ko.observable(!0);t.getAsPay=ko.observable(n.getAsPay);t.activateOnly=ko.observable(n.activateOnly);t.discountAmount=ko.observable(n.discountAmount);t.isDiscountAmount=ko.observable(n.isDiscountAmount);t.discountPercent=ko.observable(n.discountPercent);t.isDiscountPercent=ko.observable(n.isDiscountPercent);t.sorting=ko.observable(n.sorting);t.active=ko.observable(n.active)}function DataCustomDiscountViewModel(n){var t=this;t.refGiftCardValueId=ko.observable(n.refGiftCardValueId);t.giftCerCustomDiscountId=ko.observable(n.giftCerCustomDiscountId);t.discountValueName=ko.observable(n.discountValueName);t.discountName=ko.observable(n.discountName);t.discountDesc=ko.observable(n.discountDesc);t.min=ko.observable(n.min);t.max=ko.observable(n.max);t.allDate=ko.observable(n.allDate);t.startDate=ko.observable(n.startDate);t.endDate=ko.observable(n.endDate);t.allTime=ko.observable(n.allTime);t.startTime=ko.observable(n.startTime);t.endTime=ko.observable(n.endTime);t.isCustomDiscountAmount=ko.observable(n.isCustomDiscountAmount);t.isCustomDiscountPercent=ko.observable(n.isCustomDiscountPercent);t.amountOff=ko.observable(n.amountOff);t.percentOff=ko.observable(n.percentOff);t.active=ko.observable(n.active);t.refGiftCerValueActive=ko.observable(n.refGiftCerValueActive)}function DataGridGiftCardValueViewModel(n){var t=this;t.valueId=ko.observable(n.giftCerValueId());t.valueName=ko.observable(n.giftCerValueName());t.getAmount=ko.observable(n.getAmount());t.payAmount=ko.observable(n.payAmount());t.discountAmount=ko.observable(n.discountAmount());t.discountPercent=ko.observable(n.discountPercent());t.getAsPay=ko.observable(n.getAsPay());t.activateOnly=ko.observable(n.activateOnly());t.isDiscountAmount=ko.observable(n.isDiscountAmount());t.isDiscountPercent=ko.observable(n.isDiscountPercent());t.sorting=ko.observable(n.sorting());t.active=ko.observable(n.active())}function DataLiveOrderViewModel(n){var t=vmViewIndex.liveOrder;ko.mapping.fromJS(n.dataLiveOrder,{},t.ticket);t.activeFeeCreditMarketing(n.feeCreditMarketing)}function DataShowTimeViewModel(n){if(self=vmViewIndex.menu,self.tempDataShowTime(n),ko.mapping.fromJS(n,{},self.dataShowTime),n!=null){var t=ko.utils.arrayFilter(self.dataShowTime(),function(n){return n.foodSetId()==self.selectFoodSetId()});t.length>0?(_.first(t).listFoodSetTimeMap()[0].isClosed()?(self.firstShowSunStartTime(textShowTimeClosed),self.firstShowSunEndTime(""),self.secondShowSunStartTime(""),self.secondShowSunEndTime("")):_.first(t).listFoodSetTimeMap()[0].active24Hour()||_.first(t).listFoodSetTimeMap()[0].firstStartTime()==""||_.first(t).listFoodSetTimeMap()[0].firstEndTime()==""?_.first(t).listFoodSetTimeMap()[0].active24Hour()&&_.first(t).listFoodSetTimeMap()[0].firstStartTime()!=""&&_.first(t).listFoodSetTimeMap()[0].firstEndTime()!=""&&(self.firstShowSunStartTime(textShowTime24h),self.firstShowSunEndTime(""),self.secondShowSunStartTime(""),self.secondShowSunEndTime("")):(self.firstShowSunStartTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[0].firstStartTime())+" - "),self.firstShowSunEndTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[0].firstEndTime())),_.first(t).listFoodSetTimeMap()[0].secondStartTime().trim().length>0?(self.secondShowSunStartTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[0].secondStartTime())+" - "),self.secondShowSunEndTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[0].secondEndTime()))):(self.secondShowSunStartTime(""),self.secondShowSunEndTime(""))),_.first(t).listFoodSetTimeMap()[1].isClosed()?(self.firstShowMonStartTime(textShowTimeClosed),self.firstShowMonEndTime(""),self.secondShowMonStartTime(""),self.secondShowMonEndTime("")):_.first(t).listFoodSetTimeMap()[1].active24Hour()||_.first(t).listFoodSetTimeMap()[1].firstStartTime()==""||_.first(t).listFoodSetTimeMap()[1].firstEndTime()==""?_.first(t).listFoodSetTimeMap()[1].active24Hour()&&_.first(t).listFoodSetTimeMap()[1].firstStartTime()!=""&&_.first(t).listFoodSetTimeMap()[1].firstEndTime()!=""&&(self.firstShowMonStartTime(textShowTime24h),self.firstShowMonEndTime(""),self.secondShowMonStartTime(""),self.secondShowMonEndTime("")):(self.firstShowMonStartTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[1].firstStartTime())+" - "),self.firstShowMonEndTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[1].firstEndTime())),_.first(t).listFoodSetTimeMap()[1].secondStartTime().trim().length>0?(self.secondShowMonStartTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[1].secondStartTime())+" - "),self.secondShowMonEndTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[1].secondEndTime()))):(self.secondShowMonStartTime(""),self.secondShowMonEndTime(""))),_.first(t).listFoodSetTimeMap()[2].isClosed()?(self.firstShowTueStartTime(textShowTimeClosed),self.firstShowTueEndTime(""),self.secondShowTueStartTime(""),self.secondShowTueEndTime("")):_.first(t).listFoodSetTimeMap()[2].active24Hour()||_.first(t).listFoodSetTimeMap()[2].firstStartTime()==""||_.first(t).listFoodSetTimeMap()[2].firstEndTime()==""?_.first(t).listFoodSetTimeMap()[2].active24Hour()&&_.first(t).listFoodSetTimeMap()[2].firstStartTime()!=""&&_.first(t).listFoodSetTimeMap()[2].firstEndTime()!=""&&(self.firstShowTueStartTime(textShowTime24h),self.firstShowTueEndTime(""),self.secondShowTueStartTime(""),self.secondShowTueEndTime("")):(self.firstShowTueStartTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[2].firstStartTime())+" - "),self.firstShowTueEndTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[2].firstEndTime())),_.first(t).listFoodSetTimeMap()[2].secondStartTime().trim().length>0?(self.secondShowTueStartTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[2].secondStartTime())+" - "),self.secondShowTueEndTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[2].secondEndTime()))):(self.secondShowTueStartTime(""),self.secondShowTueEndTime(""))),_.first(t).listFoodSetTimeMap()[3].isClosed()?(self.firstShowWedStartTime(textShowTimeClosed),self.firstShowWedEndTime(""),self.secondShowWedStartTime(""),self.secondShowWedEndTime("")):_.first(t).listFoodSetTimeMap()[3].active24Hour()||_.first(t).listFoodSetTimeMap()[3].firstStartTime()==""||_.first(t).listFoodSetTimeMap()[3].firstEndTime()==""?_.first(t).listFoodSetTimeMap()[3].active24Hour()&&_.first(t).listFoodSetTimeMap()[3].firstStartTime()!=""&&_.first(t).listFoodSetTimeMap()[3].firstEndTime()!=""&&(self.firstShowWedStartTime(textShowTime24h),self.firstShowWedEndTime(""),self.secondShowWedStartTime(""),self.secondShowWedEndTime("")):(self.firstShowWedStartTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[3].firstStartTime())+" - "),self.firstShowWedEndTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[3].firstEndTime())),_.first(t).listFoodSetTimeMap()[3].secondStartTime().trim().length>0?(self.secondShowWedStartTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[3].secondStartTime())+" - "),self.secondShowWedEndTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[3].secondEndTime()))):(self.secondShowWedStartTime(""),self.secondShowWedEndTime(""))),_.first(t).listFoodSetTimeMap()[4].isClosed()?(self.firstShowThuStartTime(textShowTimeClosed),self.firstShowThuEndTime(""),self.secondShowThuStartTime(""),self.secondShowThuEndTime("")):_.first(t).listFoodSetTimeMap()[4].active24Hour()||_.first(t).listFoodSetTimeMap()[4].firstStartTime()==""||_.first(t).listFoodSetTimeMap()[4].firstEndTime()==""?_.first(t).listFoodSetTimeMap()[4].active24Hour()&&_.first(t).listFoodSetTimeMap()[4].firstStartTime()!=""&&_.first(t).listFoodSetTimeMap()[4].firstEndTime()!=""&&(self.firstShowThuStartTime(textShowTime24h),self.firstShowThuEndTime(""),self.secondShowThuStartTime(""),self.secondShowThuEndTime("")):(self.firstShowThuStartTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[4].firstStartTime())+" - "),self.firstShowThuEndTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[4].firstEndTime())),_.first(t).listFoodSetTimeMap()[4].secondStartTime().trim().length>0?(self.secondShowThuStartTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[4].secondStartTime())+" - "),self.secondShowThuEndTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[4].secondEndTime()))):(self.secondShowThuStartTime(""),self.secondShowThuEndTime(""))),_.first(t).listFoodSetTimeMap()[5].isClosed()?(self.firstShowFriStartTime(textShowTimeClosed),self.firstShowFriEndTime(""),self.secondShowFriStartTime(""),self.secondShowFriEndTime("")):_.first(t).listFoodSetTimeMap()[5].active24Hour()||_.first(t).listFoodSetTimeMap()[5].firstStartTime()==""||_.first(t).listFoodSetTimeMap()[5].firstEndTime()==""?_.first(t).listFoodSetTimeMap()[5].active24Hour()&&_.first(t).listFoodSetTimeMap()[5].firstStartTime()!=""&&_.first(t).listFoodSetTimeMap()[5].firstEndTime()!=""&&(self.firstShowFriStartTime(textShowTime24h),self.firstShowFriEndTime(""),self.secondShowFriStartTime(""),self.secondShowFriEndTime("")):(self.firstShowFriStartTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[5].firstStartTime())+" - "),self.firstShowFriEndTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[5].firstEndTime())),_.first(t).listFoodSetTimeMap()[5].secondStartTime().trim().length>0?(self.secondShowFriStartTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[5].secondStartTime())+" - "),self.secondShowFriEndTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[5].secondEndTime()))):(self.secondShowFriStartTime(""),self.secondShowFriEndTime(""))),_.first(t).listFoodSetTimeMap()[6].isClosed()?(self.firstShowSatStartTime(textShowTimeClosed),self.firstShowSatEndTime(""),self.secondShowSatStartTime(""),self.secondShowSatEndTime("")):_.first(t).listFoodSetTimeMap()[6].active24Hour()||_.first(t).listFoodSetTimeMap()[6].firstStartTime()==""||_.first(t).listFoodSetTimeMap()[6].firstEndTime()==""?_.first(t).listFoodSetTimeMap()[6].active24Hour()&&_.first(t).listFoodSetTimeMap()[6].firstStartTime()!=""&&_.first(t).listFoodSetTimeMap()[6].firstEndTime()!=""&&(self.firstShowSatStartTime(textShowTime24h),self.firstShowSatEndTime(""),self.secondShowSatStartTime(""),self.secondShowSatEndTime("")):(self.firstShowSatStartTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[6].firstStartTime())+" - "),self.firstShowSatEndTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[6].firstEndTime())),_.first(t).listFoodSetTimeMap()[6].secondStartTime().trim().length>0?(self.secondShowSatStartTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[6].secondStartTime())+" - "),self.secondShowSatEndTime(setTimeAMPM(_.first(t).listFoodSetTimeMap()[6].secondEndTime()))):(self.secondShowSatStartTime(""),self.secondShowSatEndTime(""))),_.first(t).listFoodSetTimeMap()[0].firstStartTime()==""&&_.first(t).listFoodSetTimeMap()[0].firstEndTime()==""&&_.first(t).listFoodSetTimeMap()[0].secondStartTime()==""&&_.first(t).listFoodSetTimeMap()[0].secondEndTime()==""&&_.first(t).listFoodSetTimeMap()[1].firstStartTime()==""&&_.first(t).listFoodSetTimeMap()[1].firstEndTime()==""&&_.first(t).listFoodSetTimeMap()[1].secondStartTime()==""&&_.first(t).listFoodSetTimeMap()[1].secondEndTime()==""&&_.first(t).listFoodSetTimeMap()[2].firstStartTime()==""&&_.first(t).listFoodSetTimeMap()[2].firstEndTime()==""&&_.first(t).listFoodSetTimeMap()[2].secondStartTime()==""&&_.first(t).listFoodSetTimeMap()[2].secondEndTime()==""&&_.first(t).listFoodSetTimeMap()[3].firstStartTime()==""&&_.first(t).listFoodSetTimeMap()[3].firstEndTime()==""&&_.first(t).listFoodSetTimeMap()[3].secondStartTime()==""&&_.first(t).listFoodSetTimeMap()[3].secondEndTime()==""&&_.first(t).listFoodSetTimeMap()[4].firstStartTime()==""&&_.first(t).listFoodSetTimeMap()[4].firstEndTime()==""&&_.first(t).listFoodSetTimeMap()[4].secondStartTime()==""&&_.first(t).listFoodSetTimeMap()[4].secondEndTime()==""&&_.first(t).listFoodSetTimeMap()[5].firstStartTime()==""&&_.first(t).listFoodSetTimeMap()[5].firstEndTime()==""&&_.first(t).listFoodSetTimeMap()[5].secondStartTime()==""&&_.first(t).listFoodSetTimeMap()[5].secondEndTime()==""&&_.first(t).listFoodSetTimeMap()[6].firstStartTime()==""&&_.first(t).listFoodSetTimeMap()[6].firstEndTime()==""&&_.first(t).listFoodSetTimeMap()[6].secondStartTime()==""&&_.first(t).listFoodSetTimeMap()[6].secondEndTime()==""&&(self.firstShowSunStartTime(textShowTime24h),self.firstShowSunEndTime(""),self.secondShowSunStartTime(""),self.secondShowSunEndTime(""),self.firstShowMonStartTime(textShowTime24h),self.firstShowMonEndTime(""),self.secondShowMonStartTime(""),self.secondShowMonEndTime(""),self.firstShowTueStartTime(textShowTime24h),self.firstShowTueEndTime(""),self.secondShowTueStartTime(""),self.secondShowTueEndTime(""),self.firstShowWedStartTime(textShowTime24h),self.firstShowWedEndTime(""),self.secondShowWedStartTime(""),self.secondShowWedEndTime(""),self.firstShowThuStartTime(textShowTime24h),self.firstShowThuEndTime(""),self.secondShowThuStartTime(""),self.secondShowThuEndTime(""),self.firstShowFriStartTime(textShowTime24h),self.firstShowFriEndTime(""),self.secondShowFriStartTime(""),self.secondShowFriEndTime(""),self.firstShowSatStartTime(textShowTime24h),self.firstShowSatEndTime(""),self.secondShowSatStartTime(""),self.secondShowSatEndTime(""))):(self.firstShowSunStartTime(textShowTime24h),self.firstShowSunEndTime(""),self.secondShowSunStartTime(""),self.secondShowSunEndTime(""),self.firstShowMonStartTime(textShowTime24h),self.firstShowMonEndTime(""),self.secondShowMonStartTime(""),self.secondShowMonEndTime(""),self.firstShowTueStartTime(textShowTime24h),self.firstShowTueEndTime(""),self.secondShowTueStartTime(""),self.secondShowTueEndTime(""),self.firstShowWedStartTime(textShowTime24h),self.firstShowWedEndTime(""),self.secondShowWedStartTime(""),self.secondShowWedEndTime(""),self.firstShowThuStartTime(textShowTime24h),self.firstShowThuEndTime(""),self.secondShowThuStartTime(""),self.secondShowThuEndTime(""),self.firstShowFriStartTime(textShowTime24h),self.firstShowFriEndTime(""),self.secondShowFriStartTime(""),self.secondShowFriEndTime(""),self.firstShowSatStartTime(textShowTime24h),self.firstShowSatEndTime(""),self.secondShowSatStartTime(""),self.secondShowSatEndTime(""))}}function DataMenuSetupViewModel(n,t,i){var r=vmViewIndex.menu,e,u,f,o;ClearDataMenuSetupViewModel();n.listFoodChoiceMap!=null&&ko.mapping.fromJS(n.listFoodChoiceMap,{},r.foodChoiceMap);n.listRevenueClass!=null&&ko.mapping.fromJS(n.listRevenueClass,{},r.dataSetupFoodModal.dataRevenueClass);n.listChoiceOption!=null&&r.dataSetupFoodModal.dataAllChoiceOption(n.listChoiceOption);n.listChoice!=null&&r.dataSetupFoodModal.dataAllChoice(n.listChoice);n.groupChoiceOptionId!=null&&r.dataSetupFoodModal.groupChoiceOptionId(n.groupChoiceOptionId);n.listProductTag!=null&&ko.mapping.fromJS(n.listProductTag,{},r.dataSetupFoodModal.cloneArrayProductTag);n.listThirdPartyGroup!=null&&ko.mapping.fromJS(n.listThirdPartyGroup,{},r.thirdPartyGroupStore);n.listThirdParty!=null&&ko.mapping.fromJS(n.listThirdParty,{},r.thirdPartyStore);n.listFoodThirdParty!=null&&ko.mapping.fromJS(n.listFoodThirdParty,{},r.listFoodThirdPartyStore);n.listIcon!=null&&ko.mapping.fromJS(n.listIcon,{},r.dataSetupFoodModal.cloneArrayIcon);n.listFoodIconMap!=null&&ko.mapping.fromJS(n.listFoodIconMap,{},r.listFoodIconMap);i.includes(products.cSmileThirdPartyIntegrations)||(e=ko.utils.arrayFilter(n.listFoodSet,function(n){return n.isThirdParty==!1}),n.listFoodSet=e);r.arrMultiProduct=ko.observableArray([]);u=[];f=[];f.push({name:products.mapName[products.cAllProduct].name,id:products.cAllProduct});o=i.split(",");ko.utils.arrayForEach(o,function(n){n==products.cSmileDining&&(f.push({name:products.mapName[products.cSmileDining].name,id:products.cSmileDining}),u.push(products.cSmileDining));n==products.cSmileContactless&&(f.push({name:products.mapName[products.cSmileContactless].name,id:products.cSmileContactless}),u.push(products.cSmileContactless));n==products.cSmileThirdPartyIntegrations&&(f.push({name:products.mapName[products.cSmileThirdPartyIntegrations].name,id:products.cSmileThirdPartyIntegrations}),u.push(products.cSmileThirdPartyIntegrations))});u.length>1&&r.showFilterProduct(!0);r.arrProductFilter(f.slice(0));r.valueProduct(products.cAllProduct);r.selectProduct({dataSource:new DevExpress.data.ArrayStore({data:r.arrProductFilter(),key:"id"}),displayExpr:"name",valueExpr:"id",value:r.valueProduct,placeholder:"Select Product",onItemClick:function(n){var t=n.itemData.id;r.valueProduct(t);vmViewIndex.showLoading(!0);setTimeout(function(){MapDataMenu(r.foodSetJs(),r.foodCategoryJs(),r.foodJs(),r.foodSetTimeMapJs(),r.valueFilterMenuFoodSet(),r.valueFilterMenuFoodCat(),r.valueFilterMenuFood(),t);vmViewIndex.showLoading(!1);foodSetClick()},0)}});n.listFood!=null&&ko.utils.arrayForEach(n.listFood,function(n){var t=n.productId,i;t!=null&&(i=t.split(","),n.arrProduct=[],ko.utils.arrayForEach(i,function(t){n.arrProduct.push(t)}))});r.arrProductAll([]);u.length>0&&_.forEach(u,function(n){r.arrProductAll.push(n)});r.defaultValueFilterProduct=ko.observable(products.cAllProduct);n.listFoodSet!=null&&MapDataMenu(n.listFoodSet,n.listFoodCategory,n.listFood,t,r.valueFilterMenuFoodSet(),r.valueFilterMenuFoodCat(),r.valueFilterMenuFood(),r.defaultValueFilterProduct());ko.utils.arrayForEach(r.foodSet(),function(n){n.isThirdParty()?r.optionSelectPickerFoodSetThirdParty.push(new optionSelectFoodSet(n.foodSetId(),n.foodSetName())):r.optionSelectPickerFoodSet.push(new optionSelectFoodSet(n.foodSetId(),n.foodSetName()))});ko.utils.arrayForEach(r.food(),function(n){n.active()&&r.optionSelectPickerCopyFood.push(new optionSelectFood(n.foodId(),n.foodName()))});n.listRevenueClass!=null&&ko.utils.arrayForEach(r.dataSetupFoodModal.dataRevenueClass(),function(n){r.optionSelectPickerRevenue.push(new optionSelectRevenue(n.revenueClassId(),n.revenueClassName(),n.taxRateId()))});n.listChoiceOption!=null&&ko.utils.arrayForEach(n.listChoiceOption,function(n){r.optionSelectPickerChoiceOption.push(new optionSelectChoiceOption(n.choiceOptionId,n.choiceOptionName,n.plu))});isEmpty(r.tempDataMenu())||(r.selectFoodSetId(_.first(r.dataMenu()).foodSet.foodSetId()),r.selectFoodSetName(_.first(r.dataMenu()).foodSet.foodSetName()),r.selectFoodSetSorting(_.first(r.dataMenu()).foodSet.foodSetSorting()),r.selectFoodSetActive(_.first(r.dataMenu()).foodSet.active()),r.selectFoodSetIsThirdParty(_.first(r.dataMenu()).foodSet.isThirdParty()),$("#tabFoodSet"+r.selectFoodSetSorting()).click())}function MapDataFoodSet(n,t,i,r,u,f,e,o,s){var h=this;h.foodSetId=ko.observable(n);h.foodSetName=ko.observable(t);h.foodSetSorting=ko.observable(i);h.timeComplete=ko.observable(r);h.foodSetChar=ko.observable(u);h.foodSetBgColor=ko.observable(f);h.createOn=ko.observable(e);h.allDays=ko.observable(o);h.active=ko.observable(s)}function MapDataMenu(n,t,i,r,u,f,e,o){var s=vmViewIndex.menu;ClearMapDataMenu();s.foodSetJs(n);s.foodCategoryJs(t);s.foodJs(i);s.foodSetTimeMapJs(r);n!=null&&n.sort(function(n,t){return n.foodSetSorting-t.foodSetSorting});t!=null&&t.sort(function(n,t){return n.foodCatSorting-t.foodCatSorting});i!=null&&i.sort(function(n,t){return n.foodSorting-t.foodSorting});ko.mapping.fromJS(s.foodSetJs(),{},s.foodSet);ko.mapping.fromJS(s.foodCategoryJs(),{},s.foodCategory);ko.mapping.fromJS(s.foodJs(),{},s.food);ko.mapping.fromJS(s.foodSetTimeMapJs(),{},s.tempDataShowTime);u==1?s.foodSet(ko.utils.arrayFilter(s.foodSet(),function(n){return n.active()==!0})):u==2&&s.foodSet(ko.utils.arrayFilter(s.foodSet(),function(n){return n.active()==!1}));f==1?s.foodCategory(ko.utils.arrayFilter(s.foodCategory(),function(n){return n.active()==!0})):f==2&&s.foodCategory(ko.utils.arrayFilter(s.foodCategory(),function(n){return n.active()==!1}));e==1?s.food(ko.utils.arrayFilter(s.food(),function(n){return n.active()==!0})):e==2&&s.food(ko.utils.arrayFilter(s.food(),function(n){return n.active()==!1}));o==products.cSmileDining?s.food(ko.utils.arrayFilter(s.food(),function(n){return n.arrProduct().includes(products.cSmileDining)})):o==products.cSmileContactless?s.food(ko.utils.arrayFilter(s.food(),function(n){return n.arrProduct().includes(products.cSmileContactless)})):o==products.cSmileThirdPartyIntegrations&&s.food(ko.utils.arrayFilter(s.food(),function(n){return n.arrProduct().includes(products.cSmileThirdPartyIntegrations)}));ko.utils.arrayForEach(s.foodSet(),function(n){ko.utils.arrayForEach(s.foodCategory(),function(t){var i=ko.utils.arrayFilter(s.food(),function(i){return i.foodCatId()==t.foodCatId()&&i.foodSetId()==n.foodSetId()});isEmpty(i)||(s.tempDataMenu.push(new DataMenuViewModel(n,t,i)),s.tempDataFoodCategory.push(new optionSelectFoodCategory(t.foodCatId(),t.foodCatName(),n.foodSetId())))})});s.dataMenu(s.tempDataMenu().slice())}function ClearMapDataMenu(){var n=vmViewIndex.menu;n.foodSet([]);n.foodCategory([]);n.food([]);n.tempDataMenu([]);n.tempDataFoodCategory([])}function ClearDataMenuSetupViewModel(){var n=vmViewIndex.menu;n.dataMenu([]);n.foodSet([]);n.foodCategory([]);n.food([]);n.tempDataMenu([]);n.selectFoodSetId();n.selectFoodSetName();n.selectFoodSetSorting();n.selectFoodSetIsThirdParty();n.selectFoodSetActive(!0);n.chkBtnAddFoodSet(!0);n.tempDataDragging([]);n.tempItemDragging([]);n.tempDataFoodCategory([]);n.chkDrag(!1);n.chkSave(!1);n.choiceOptions([]);n.choice([]);n.optionSelectPickerFoodSet([]);n.optionSelectPickerFoodSetThirdParty([]);n.optionSelectPickerFoodCategory([]);n.optionSelectPickerRevenue([]);n.optionSelectPickerCopyFood([]);n.optionSelectPickerChoiceOption([]);n.optionSelectPickerChoiceOptionTemp([])}function DataFoodSetViewModel(n){var t=this;t.foodSetId=ko.observable(n.foodSetId);t.foodSetName=ko.observable(n.foodSetName);t.foodSetChar=ko.observable(n.foodSetChar);t.foodSetSorting=ko.observable(n.foodSetSorting);t.isThirdParty=ko.observable(n.isThirdParty);t.active=ko.observable(n.active)}function DataFoodChoiceMapViewModel(n){var t=this;t.foodChoiceMapId=ko.observable(n.foodChoiceMapId);t.foodId=ko.observable(n.foodId);t.tempId=ko.observable(n.tempId);t.choiceOptionId=ko.observable(n.choiceOptionId);t.choiceOptionName=ko.observable(n.choiceOptionName);t.choiceId=ko.observable(n.choiceId);t.choiceName=ko.observable(n.choiceName);t.choicePrice=ko.observable(n.choicePrice);t.isDefault=ko.observable(n.isDefault)}function DataFoodCategoryViewModel(n){var t=this;t.foodCatId=ko.observable(n.foodCatId);t.foodCatName=ko.observable(n.foodCatName);t.foodCatDesc=ko.observable(n.foodCatDesc);t.foodCatColor=ko.observable(n.foodCatColor);t.foodCatIcon=ko.observable(n.foodCatIcon);t.foodCatParent=ko.observable(n.foodCatParent);t.foodCatSorting=ko.observable(n.foodCatSorting);t.createOn=ko.observable(n.createOn);t.priority=ko.observable(n.priority);t.active=ko.observable(n.active)}function DataFoodViewModel(n){var t=this;t.foodId=ko.observable(n.foodId);t.tempId=ko.observable(n.tempId);t.foodName=ko.observable(n.foodName);t.foodNameAlt=ko.observable(n.foodNameAlt);t.foodDesc=ko.observable(n.foodDesc);t.foodPrice=ko.observable(n.foodPrice);t.foodSorting=ko.observable(n.foodSorting);t.image=ko.observable(n.image);t.foodSetId=ko.observable(n.foodSetId);t.foodCatId=ko.observable(n.foodCatId);t.revenueClassId=ko.observable(n.revenueClassId);t.taxRateId=ko.observable(n.taxRateId);t.active=ko.observable(n.active);t.createOn=ko.observable(n.createOn);t.modifyOn=ko.observable(n.modifyOn);t.allChoiceOptions=ko.observable(n.allChoiceOptions);t.choiceOption=ko.observable(n.choiceOption);t.qtyLimit=ko.observable(n.qtyLimit);t.productId=ko.observable(n.productId);t.arrProduct=ko.observableArray(n.arrProduct);t.isOutStock=ko.observable(n.isOutStock);t.isFree=ko.observable(n.isFree);t.isShow=ko.observable(n.isShow);t.listProductTag=ko.observableArray(n.listProductTag);t.isThirdParty=ko.observable(n.isThirdParty);t.foodBaseId=ko.observable(n.foodBaseId);t.thirdPartyGroupId=ko.observable(n.thirdPartyGroupId);t.imageThirdParty=ko.observable(n.imageThirdParty==null?"":n.imageThirdParty);t.plu=ko.observable(n.plu==null?"":n.plu)}function DataStatementHeaderViewModel(){var n=this;n.data=ko.observableArray([]);n.value=ko.observable();n.chkWidth=ko.observable($(window).width());n.setWidth=ko.observable(360);n.selectStatementHeader=ko.observable({dataSource:n.data,displayExpr:function(t){return vmViewIndex.statement.statementHeader.chkWidth()<=414?(t!=null||t!=undefined?t.isWeekly():!1)?t?"Week "+t.weekOfNumber()+" : "+t.count()+" orders":"":t?t.monthOfYear()+" : "+t.count()+" orders":"":(t!=null||t!=undefined?t.isWeekly():!1)?t?"Week "+t.weekOfNumber()+" : "+t.startDate()+" - "+t.endDate()+" : "+t.count()+" orders":"":t?t.monthOfYear()+" : "+t.startDate()+" - "+t.endDate()+" : "+t.count()+" orders":""},valueExpr:"id",value:n.value,dropDownButtonTemplate:"dropDownButton",itemTemplate:function(t){return vmViewIndex.statement.statementHeader.chkWidth()<=414?(t!=null||t!=undefined?t.isWeekly():!1)?"Week "+t.weekOfNumber()+" : "+t.count()+" orders":t.monthOfYear()+" : "+t.count()+" orders":(t!=null||t!=undefined?t.isWeekly():!1)?"Week "+t.weekOfNumber()+" : "+t.startDate()+" - "+t.endDate()+" : "+t.count()+" orders":t.monthOfYear()+" : "+t.startDate()+" - "+t.endDate()+" : "+t.count()+" orders"},onItemClick:function(n){if(n.itemData!=null){var t=ko.utils.arrayFilter(vmViewIndex.statement.statementHeader.data(),function(t){return t.id()==n.itemData.id()});vmViewIndex.statement.fromDate(moment(_.first(t).startDate()).format("L"));vmViewIndex.statement.endDate(moment(_.first(t).endDate()).format("L"));getIdTag(cfrmSearchStatement).submit()}}})}