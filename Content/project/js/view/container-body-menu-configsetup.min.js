function slideLeft(){var n=$(".tab-config").scrollLeft();$(".tab-config").animate({scrollLeft:n-300},200)}function slideRight(){var n=$(".tab-config").scrollLeft();$(".tab-config").animate({scrollLeft:n+700},200)}function swalConfirmSaveCopyChoice(n,t,i){swal({title:"Are you sure, you want to save?",type:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",closeOnConfirm:!1,closeOnCancel:!1,confirmButtonClass:"btn theme default-button",cancelButtonClass:"btn btn-danger",preConfirm:function(){var r=new ObjUrl(n),u=r.getUrlSubmitForm(),f=ko.toJSON(t),e={JsonListCopyChoice:f,choiceOptionId:i,choiceTypeId:cChoiceType.option};return vmViewIndex.showLoading(!0),new Promise(function(){$.ajax({url:u,async:ajax_async,cache:ajax_cache,type:ajax_type_post,data:e,timeout:ajax_timeout}).done(function(n){var i=JSON.parse(n.obj),t;val=n.txtValue;setChoiceCopy(i);vmViewIndex.showLoading(!1);t=new ObjAlert("",n.message,n.status);t.getAlert()}).fail(function(n){vmViewIndex.showLoading(!1);var t=new ObjAlert("",n.message,n.status);t.getAlert()})})}}).then(function(){refreshGrid("gridChoice")},function(n){n==="cancel"&&(undoCopyChoiceConfigSetup(),swal("Cancelled","","error"))})}function undoCopyChoiceConfigSetup(){vmViewIndex.configSetUp.choice.listCopyChoice([]);vmViewIndex.configSetUp.choice.visibleListCopyChoice(!1);refreshGrid("gridChoice")}function swalConfirmSaveCopyChoiceModify(n,t,i){swal({title:"Are you sure, you want to save?",type:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",closeOnConfirm:!1,closeOnCancel:!1,confirmButtonClass:"btn theme default-button",cancelButtonClass:"btn btn-danger",preConfirm:function(){var r=new ObjUrl(n),u=r.getUrlSubmitForm(),f=ko.toJSON(t),e={JsonListCopyChoice:f,choiceOptionId:i,choiceTypeId:cChoiceType.modify};return vmViewIndex.showLoading(!0),new Promise(function(){$.ajax({url:u,async:ajax_async,cache:ajax_cache,type:ajax_type_post,data:e,timeout:ajax_timeout}).done(function(n){var i=JSON.parse(n.obj),t;val=n.txtValue;setChoiceModifyCopy(i);vmViewIndex.showLoading(!1);t=new ObjAlert("",n.message,n.status);t.getAlert()}).fail(function(n){vmViewIndex.showLoading(!1);var t=new ObjAlert("",n.message,n.status);t.getAlert()})})}}).then(function(){refreshGrid("gridChoiceModify")},function(n){n==="cancel"&&(undoCopyChoiceModifyConfigSetup(),swal("Cancelled","","error"))})}function undoCopyChoiceModifyConfigSetup(){vmViewIndex.configSetUp.choiceModify.listCopyChoice([]);vmViewIndex.configSetUp.choiceModify.visibleListCopyChoice(!1);refreshGrid("gridChoiceModify")}function swalConfirmSaveSortableChoice(n,t){swal({title:"Are you sure, you want to save?",type:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",closeOnConfirm:!1,closeOnCancel:!1,confirmButtonClass:"btn theme default-button",cancelButtonClass:"btn btn-danger",preConfirm:function(){var i=n;n==cChoiceModifyUpDateSortable&&(i=cChoiceUpDateSortable);var r=new ObjUrl(i),u=r.getUrlFromJson(),f={model:t};return new Promise(function(){$.ajax({url:u,async:ajax_async,cache:ajax_cache,type:ajax_type_post,data:f,timeout:ajax_timeout}).done(function(t){n==cChoiceUpDateSortable?(vmViewIndex.configSetUp.choice.cloneDataArrayStore(ko.mapping.toJS(vmViewIndex.configSetUp.choice.dataArrayStore()._array)),refreshGrid("gridChoice")):n==cChoiceOptionUpDateSortable?(vmViewIndex.configSetUp.choiceOption.cloneDataArrayStore(ko.mapping.toJS(vmViewIndex.configSetUp.choiceOption.dataArrayStore()._array)),vmViewIndex.configSetUp.choice.dataChoiceOption(ko.mapping.toJS(vmViewIndex.configSetUp.choiceOption.dataArrayStore()._array)),refreshGrid("gridChoiceOption")):n==cChoiceModifyUpDateSortable?(vmViewIndex.configSetUp.choiceModify.cloneDataArrayStore(ko.mapping.toJS(vmViewIndex.configSetUp.choiceModify.dataArrayStore()._array)),refreshGrid("gridChoiceModify")):n==cFoodPrefixUpDateSortable&&(vmViewIndex.configSetUp.foodPrefix.cloneDataArrayStore(ko.mapping.toJS(vmViewIndex.configSetUp.foodPrefix.dataArrayStore()._array)),refreshGrid("gridFoodPrefix"));vmViewIndex.configSetUp.chkDrag(!1);var i=new ObjAlert("",t.message,t.status);i.getAlert()}).fail(function(n){var t=new ObjAlert("",n.message,n.status);t.getAlert()})})}}).then(function(){refreshGrid("gridChoiceOption");refreshGrid("gridChoice");refreshGrid("gridChoiceModify");refreshGrid("gridFoodPrefix")},function(n){n==="cancel"&&(undoDraggingConfigSetup(),swal("Cancelled","","error"))})}function choiceSortable(n,t){var r,u=vmViewIndex.configSetUp.choice.pageSize(),f=vmViewIndex.configSetUp.choice.pageIndex()-1;$(n).find("tbody").sortable({cursor:"move",forcePlaceholderSize:!1,opacity:.4,placeholder:"highlight",start:function(n,t){t.item.toggleClass("highlight");r=u*f+t.item.index()},update:function(){},stop:function(e,o){var h,c,s,l,a;if(o.item.toggleClass("highlight"),h=u*f+o.item.index(),r!=h){if(vmViewIndex.configSetUp.chkDrag(!0),r<h){for(c=[],s=null,t.load().done(function(n){s=ko.mapping.fromJS(_.orderBy(ko.mapping.toJS(n),["choiceSorting"],["asc"]))()}),l=s[r].choiceId(),a=s[h].choiceSorting(),i=r;i<h;i++)c.push({choiceId:s[i+1].choiceId(),choiceSorting:s[i].choiceSorting()});c.push({choiceId:l,choiceSorting:a})}else if(r>h){for(c=[],s=null,t.load().done(function(n){s=ko.mapping.fromJS(_.orderBy(ko.mapping.toJS(n),["choiceSorting"],["asc"]))()}),l=s[r].choiceId(),a=s[h].choiceSorting(),i=r;i>h;i--)c.push({choiceId:s[i-1].choiceId(),choiceSorting:s[i].choiceSorting()});c.push({choiceId:l,choiceSorting:a})}vmViewIndex.showLoading(!0);setTimeout(function(){updateSortableChoice(c,"choice");n.dxDataGrid("instance").refresh()},1e3)}}})}function choiceOptionSortable(n,t){var r,u=vmViewIndex.configSetUp.choiceOption.pageSize(),f=vmViewIndex.configSetUp.choiceOption.pageIndex()-1;$(n).find("tbody").sortable({cursor:"move",forcePlaceholderSize:!1,opacity:.4,placeholder:"highlight",start:function(n,t){t.item.toggleClass("highlight");r=u*f+t.item.index()},update:function(){},stop:function(e,o){var h,c,s,l,a;if(o.item.toggleClass("highlight"),h=u*f+o.item.index(),r!=h){if(vmViewIndex.configSetUp.chkDrag(!0),r<h){for(c=[],s=null,t.load().done(function(n){s=ko.mapping.fromJS(_.orderBy(ko.mapping.toJS(n),["choiceSorting"],["asc"]))()}),l=s[r].choiceOptionId(),a=s[h].choiceSorting(),i=r;i<h;i++)c.push({choiceOptionId:s[i+1].choiceOptionId(),choiceSorting:s[i].choiceSorting()});c.push({choiceOptionId:l,choiceSorting:a})}else if(r>h){for(c=[],s=null,t.load().done(function(n){s=ko.mapping.fromJS(_.orderBy(ko.mapping.toJS(n),["choiceSorting"],["asc"]))()}),l=s[r].choiceOptionId(),a=s[h].choiceSorting(),i=r;i>h;i--)c.push({choiceOptionId:s[i-1].choiceOptionId(),choiceSorting:s[i].choiceSorting()});c.push({choiceOptionId:l,choiceSorting:a})}vmViewIndex.showLoading(!0);setTimeout(function(){updateSortableChoice(c,"choiceOption");n.dxDataGrid("instance").refresh()},1e3)}}})}function choiceModifySortable(n,t){var r,u=vmViewIndex.configSetUp.choiceModify.pageSize(),f=vmViewIndex.configSetUp.choiceModify.pageIndex()-1;$(n).find("tbody").sortable({cursor:"move",forcePlaceholderSize:!1,opacity:.4,placeholder:"highlight",start:function(n,t){t.item.toggleClass("highlight");r=u*f+t.item.index()},update:function(){},stop:function(e,o){var h,c,s,l,a;if(o.item.toggleClass("highlight"),h=u*f+o.item.index(),r!=h){if(vmViewIndex.configSetUp.chkDrag(!0),r<h){for(c=[],s=null,t.load().done(function(n){s=ko.mapping.fromJS(_.orderBy(ko.mapping.toJS(n),["choiceSorting"],["asc"]))()}),l=s[r].choiceId(),a=s[h].choiceSorting(),i=r;i<h;i++)c.push({choiceId:s[i+1].choiceId(),choiceSorting:s[i].choiceSorting()});c.push({choiceId:l,choiceSorting:a})}else if(r>h){for(c=[],s=null,t.load().done(function(n){s=ko.mapping.fromJS(_.orderBy(ko.mapping.toJS(n),["choiceSorting"],["asc"]))()}),l=s[r].choiceId(),a=s[h].choiceSorting(),i=r;i>h;i--)c.push({choiceId:s[i-1].choiceId(),choiceSorting:s[i].choiceSorting()});c.push({choiceId:l,choiceSorting:a})}vmViewIndex.showLoading(!0);setTimeout(function(){updateSortableChoice(c,"choiceModify");n.dxDataGrid("instance").refresh()},1e3)}}})}function foodPrefixSortable(n,t){var r,u=vmViewIndex.configSetUp.foodPrefix.pageSize(),f=vmViewIndex.configSetUp.foodPrefix.pageIndex()-1;$(n).find("tbody").sortable({cursor:"move",forcePlaceholderSize:!1,opacity:.4,placeholder:"highlight",start:function(n,t){t.item.toggleClass("highlight");r=u*f+t.item.index()},update:function(){},stop:function(e,o){var h,c,s,l,a;if(o.item.toggleClass("highlight"),h=u*f+o.item.index(),r!=h){if(vmViewIndex.configSetUp.chkDrag(!0),r<h){for(c=[],s=null,t.load().done(function(n){s=ko.mapping.fromJS(_.orderBy(ko.mapping.toJS(n),["prefixSorting"],["asc"]))()}),l=s[r].prefixId(),a=s[h].prefixSorting(),i=r;i<h;i++)c.push({prefixId:s[i+1].prefixId(),prefixSorting:s[i].prefixSorting()});c.push({prefixId:l,prefixSorting:a})}else if(r>h){for(c=[],s=null,t.load().done(function(n){s=ko.mapping.fromJS(_.orderBy(ko.mapping.toJS(n),["prefixSorting"],["asc"]))()}),l=s[r].prefixId(),a=s[h].prefixSorting(),i=r;i>h;i--)c.push({prefixId:s[i-1].prefixId(),prefixSorting:s[i].prefixSorting()});c.push({prefixId:l,prefixSorting:a})}vmViewIndex.showLoading(!0);setTimeout(function(){updateSortableChoice(c,"foodPrefix");n.dxDataGrid("instance").refresh()},1e3)}}})}function updateSortableChoice(n,t){t=="choiceOption"?ko.utils.arrayForEach(n,function(n){vmViewIndex.configSetUp.choiceOption.dataArrayStore().update(n.choiceOptionId,{choiceSorting:n.choiceSorting})}):t=="choice"?ko.utils.arrayForEach(n,function(n){vmViewIndex.configSetUp.choice.dataArrayStore().update(n.choiceId,{choiceSorting:n.choiceSorting})}):t=="choiceModify"?ko.utils.arrayForEach(n,function(n){vmViewIndex.configSetUp.choiceModify.dataArrayStore().update(n.choiceId,{choiceSorting:n.choiceSorting})}):t=="foodPrefix"&&ko.utils.arrayForEach(n,function(n){vmViewIndex.configSetUp.foodPrefix.dataArrayStore().update(n.prefixId,{prefixSorting:n.prefixSorting})});vmViewIndex.showLoading(!1)}function undoDragging(n){var t=ko.observableArray([]);ko.mapping.fromJS(n.cloneDataArrayStore,{},t);n.dataArrayStore()._array=t();n.tempDataDragging([]);n.tempItemDragging([]);vmViewIndex.showLoading(!1)}function undoDraggingConfigSetup(){var r=vmViewIndex.configSetUp.choiceOption,n,t,i;undoDragging(r);refreshGrid("gridChoiceOption");n=vmViewIndex.configSetUp.choice;undoDragging(n);refreshGrid("gridChoice");t=vmViewIndex.configSetUp.choiceModify;undoDragging(t);refreshGrid("gridChoiceModify");i=vmViewIndex.configSetUp.foodPrefix;undoDragging(i);refreshGrid("gridFoodPrefix");vmViewIndex.configSetUp.chkDrag(!1)}function UpdateCartCopyChoice(){var n=vmViewIndex.configSetUp.choice,t=$(".card").find(".card-block .cart");n.listCopyChoice().length<=0?(t.hide(),n.visibleListCopyChoice(!1)):t.show()}function UpdateCartCopyChoiceModify(){var n=vmViewIndex.configSetUp.choiceModify,t=$(".card").find(".card-block .cart");n.listCopyChoice().length<=0?(t.hide(),n.visibleListCopyChoice(!1)):t.show()}function CopyChoice(n,t,i){var r=this;r.choiceId=ko.observable(n);r.choiceName=ko.observable(t);r.choiceGuid=ko.observable(i)}function swalUnlockChoiceOptionAndChoiceDeliverect(n){swal({title:cMessage_Unlock_Deliverect,type:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",closeOnConfirm:!1,closeOnCancel:!1,confirmButtonClass:"btn theme default-button",cancelButtonClass:"btn btn-danger"}).then(function(){var t=vmViewIndex.configSetUp;n?(t.choiceOption.dataSetUpModal.plu(""),$("#modalSetUpChoiceOption .switch-custom").dxSwitch({disabled:!1}),$("#modalSetUpChoiceOption #tagChoiceOption").dxTagBox({disabled:!1}),$("#modalSetUpChoiceOption #selectArrange, #modalSetUpChoiceOption #selectMaxChoice").dxSelectBox({disabled:!1}),$("#modalSetUpChoiceOption input").removeAttr("disabled")):(t.choice.showBtnUnlockChoice(!1),t.choice.dataSetUpModal.plu(""),$("#modalSetUpChoice .switch-custom").dxSwitch({disabled:!1}),$("#modalSetUpChoice #tagChoice").dxTagBox({disabled:!1}),$("#modalSetUpChoice #txtChoiceSetUp_ChoiceOptionID").dxSelectBox({disabled:!1}),$("#modalSetUpChoice input").removeAttr("disabled"))},function(n){n==="cancel"})}$("input[type='number']").click(function(){$(this).select()});$(".touch").swipe({swipeLeft:function(){var n=$(".touch-slide").scrollLeft();$(".touch-slide").animate({scrollLeft:n+200},300)},swipeRight:function(){var n=$(".touch-slide").scrollLeft();$(".touch-slide").animate({scrollLeft:n-200},300)},allowPageScroll:"horizontal",preventDefaultEvents:!1});$(".slideLeft").click(function(){slideLeft()});$(".slideRight").click(function(){slideRight()});$(".slideLeftTabConfig").click(function(){var n=$(".tab-config.tab-config-setup").scrollLeft();$(".tab-config.tab-config-setup").animate({scrollLeft:n-300},200)});$(".slideRightTabConfig").click(function(){var n=$(".tab-config.tab-config-setup").scrollLeft();$(".tab-config.tab-config-setup").animate({scrollLeft:n+300},200)});