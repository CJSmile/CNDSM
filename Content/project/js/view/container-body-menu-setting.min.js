function slideLeftTabSetting(){var n=$(".tab-mysetting").scrollLeft();$(".tab-mysetting").animate({scrollLeft:n-300},200)}function slideRightTabSetting(){var n=$(".tab-mysetting").scrollLeft();$(".tab-mysetting").animate({scrollLeft:n+300},200)}function onAnnouncementKeyDown(n){var i=window.event.keyCode;if(i===32){var t=$(n).prop("selectionStart"),r=n.value.substring(0,t),u=n.value.substring(t,n.value.lenght);return n.value=r+" "+u,n.selectionEnd=t+1,!1}if(i===13){var t=$(n).prop("selectionStart"),r=n.value.substring(0,t),u=n.value.substring(t,n.value.lenght);return n.value=r+"\n"+u,n.selectionEnd=t+1,!1}return!0}function verifyMaxMile(){if(vmViewIndex.allMapZone.activeCustomMile()){var n=parseInt(vmViewIndex.allMapZone.customMileZone()),t=parseFloat(vmViewIndex.allMapZone.listMapZoneMile()[n-1].endMile()),i=ko.utils.arrayFilter(vmViewIndex.allMapZone.listValueCustom(),function(n){return parseFloat(n.maxMile())<=t});return i.length>0?!1:!0}return!0}function verifyMaxMileDuplicate(){for(var t,u,i=[],r=vmViewIndex.allMapZone.listValueCustom.slice(0),n=0;n<r.length;n++){if(t=r[n].maxMile(),u=i.findIndex(function(n){return n==t}),u!==-1)return!1;i.push(t)}return!0}function swalConfirmSaveOverMile(n,t){var i='If you save "Custom mile" on Set Mile Zone'+t+", value in next Zone will be lost";swal({title:"Are you sure?",text:i,type:"question",showCancelButton:!0,confirmButtonText:"Save",cancelButtonText:"Cancel",closeOnConfirm:!1,closeOnCancel:!1,confirmButtonClass:"btn theme default-button",cancelButtonClass:"btn btn-danger",preConfirm:function(){return new Promise(function(){$("#"+n).submit()})}}).then(function(){},function(n){n==="cancel"})}function swalConfirmSaveMapZoneMile(n,t){var i='If you delete "Start Mile and End Mile" on Deliver Zone '+t+", value in Custom mile will be lost.";swal({title:"Are you sure?",text:i,type:"question",showCancelButton:!0,confirmButtonText:"Save",cancelButtonText:"Cancel",closeOnConfirm:!1,closeOnCancel:!1,confirmButtonClass:"btn theme default-button",cancelButtonClass:"btn btn-danger",preConfirm:function(){return new Promise(function(){$("#"+n).submit()})}}).then(function(){},function(n){n==="cancel"})}function verifyMapZoneMile(){var t=parseInt(vmViewIndex.allMapZone.tempCustomMileZone()),n=vmViewIndex.allMapZone.listMapZoneMile()[t-1];return parseFloat(n.startMile())==0&&parseFloat(n.endMile())==0?!1:!0}function swalConfirmDeleteShopClose(n,t){swal({title:"Are you sure you want to delete this record?",type:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",closeOnConfirm:!1,closeOnCancel:!1,confirmButtonClass:"btn theme default-button",cancelButtonClass:"btn btn-danger",preConfirm:function(){var i=new ObjUrl(n),r=i.getUrlSubmitForm(),u={id:t,key:vmViewIndex.allSetting.isSmileDining()};return new Promise(function(){$.ajax({url:r,async:ajax_async,cache:ajax_cache,type:ajax_type_post,data:u,timeout:ajax_timeout}).done(function(n){var i=ko.utils.arrayFilter(vmViewIndex.allSetting.dataShopClose(),function(t){return t.time()[0].shopCloseId()==n.obj}),t;vmViewIndex.allSetting.dataShopClose.remove(_.first(i));refreshGrid("gridShopClose");t=new ObjAlert("",n.message,n.status);t.getAlert()}).fail(function(n){var t=new ObjAlert("",n.message,n.status);t.getAlert()})})}}).then(function(){refreshGrid("gridShopClose")},function(n){n==="cancel"})}$(document).on("click",cfrmEditRestaurant_ShopName,function(){disableErrMsg($(this))});$(".slide-left-tabSetting").click(function(){slideLeftTabSetting()});$(".slide-right-tabSetting").click(function(){slideRightTabSetting()});$(function(){$("#divSetting-Restaurant").show();$("#divSetting-MapZone").hide();$("#divMenu-Index").hide();$("#divSetting-Setting").hide()});$("#divSetting-Restaurant").on("click","input[type='text']",function(){$(this).select()});$("#divSetting-MapZone").on("click","input[type='text']",function(){$(this).select()});$("#divMenu-Index").on("click","input[type='text']",function(){$(this).select()});$("#divSetting-Setting").on("click","input[type='text']",function(){$(this).select()});$("#uploadImageLogo").change(function(){$("#showUploadImageLogo").html($(this).val())});$("#frmUploadAnnounceImage #uploadAnnounceImage").change(function(){const n=$(this).val();$("#showUploadAnnounceImage").html(n);vmViewIndex.globalConfig.shopAnnounceImage(n)});$("#frmUploadAnnounceCustomImage #uploadAnnounceCustomImage").change(function(n){const i=$(this).val();var t=n.currentTarget.files;t!=null&&t.length>0&&(t[0].size>1048576?(swal("File size limit (1MB)","",cSwal_Icon_Error),$(this).val(""),vmViewIndex.globalConfig.shopAnnounceCustomImage("")):($("#showUploadAnnounceCustomImage").html(i),vmViewIndex.globalConfig.shopAnnounceCustomImage(i)))});$(document).on("change","#frmUploadImageBackgroundSetting #uploadImageBackground",function(){var n=$(this).val();$("#showUploadImageBackground").html(n)});$("#uploadDiscountFile").change(function(){$("#showUploadDiscountFile").html($(this).val())});$("#divAnnouncement").on("click","input[type='text']",function(){$(this).select()});$("#tabRestaurant").on("click",function(){$("#divSetting-Restaurant").show();$("#divSetting-MapZone").hide();$("#divMenu-Index").hide();$("#divSetting-Setting").hide();$("#divAnnouncement").hide()});$("#tabMap").on("click",function(){$("#divSetting-MapZone").show();$("#divSetting-Restaurant").hide();$("#divMenu-Index").hide();$("#divSetting-Setting").hide();$("#divAnnouncement").hide();$("#btn-ClickArea-Zone1").trigger("click")});$("#tabDeliveryTime").on("click",function(){$("#divMenu-Index").show();$("#divSetting-Restaurant").hide();$("#divSetting-MapZone").hide();$("#divSetting-Setting").hide();$("#divAnnouncement").hide()});$("#tabSetting").on("click",function(){$("#divSetting-Restaurant").hide();$("#divSetting-MapZone").hide();$("#divMenu-Index").hide();$("#divSetting-Setting").show();$("#divAnnouncement").hide()});$("#tabAnnouncement").on("click",function(){$("#divSetting-Restaurant").hide();$("#divSetting-MapZone").hide();$("#divMenu-Index").hide();$("#divSetting-Setting").hide();$("#divAnnouncement").show()});